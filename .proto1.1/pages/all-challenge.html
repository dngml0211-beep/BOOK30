<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Î∂ÅÌÅ¥ÎüΩ 3.0 - Ïò§ÎäòÏùò ÎèÑÏ†Ñ</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            bg: '#FEF3C7', primary: '#FF9F43', dark: '#F368E0', secondary: '#54a0ff', green: '#1dd1a1', paper: '#FDFBF7'
                        }
                    },
                    boxShadow: {
                        'soft': '0 10px 25px -5px rgba(0, 0, 0, 0.05)',
                        'floating': '0 20px 25px -5px rgba(255, 159, 67, 0.3)',
                    }
                }
            }
        }
    </script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/sidebar.css">
    <link rel="stylesheet" href="../css/responsive.css">

    <style>
        .font-noto { font-family: 'Noto Sans KR', sans-serif; }

        /* === ÌéòÏù¥ÏßÄ Ìó§Îçî (Î≥¥ÎùºÏÉâ ÌÖåÎßà) === */
        .page-header {
            background: linear-gradient(135deg, #7c3aed 0%, #8b5cf6 50%, #a78bfa 100%);
            padding: 24px;
            color: white;
            position: relative;
            overflow: hidden;
        }
        .page-header::before {
            content: '';
            position: absolute;
            top: -40px; right: -40px;
            width: 120px; height: 120px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
        }
        .page-header-title {
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 22px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .page-header-desc {
            font-size: 14px;
            opacity: 0.9;
            margin-top: 6px;
        }
        .challenge-avatar {
            width: 56px; height: 56px;
            border-radius: 50%;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        /* === ÎèÑÏ†Ñ ÌÉ≠ === */
        .challenge-tabs {
            display: flex;
            gap: 8px;
            padding: 16px 24px;
            background: #f9fafb;
            border-bottom: 1px solid #e5e7eb;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }
        .challenge-tab {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 14px 20px;
            border-radius: 16px;
            background: white;
            border: 2px solid #e5e7eb;
            cursor: pointer;
            transition: all 0.2s;
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 15px;
            font-weight: 600;
            color: #6b7280;
        }
        .challenge-tab:hover {
            border-color: #8b5cf6;
            color: #8b5cf6;
        }
        .challenge-tab.active {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            border-color: #8b5cf6;
            color: white;
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
        }
        .challenge-tab i {
            font-size: 18px;
        }

        /* === ÏΩòÌÖêÏ∏† ÏòÅÏó≠ === */
        .challenge-container {
            padding: 24px;
            background: #f9fafb;
            min-height: calc(100vh - 200px);
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        /* === Ïò§ÎäòÏùò ÎèÑÏ†Ñ ÏòÅÏó≠ === */
        .today-challenge-section {
            width: 100%;
            padding: 0 20px;
        }

        /* ÏÑπÏÖò ÌÉÄÏù¥ÌãÄ */
        .section-title-bar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            padding: 0 4px;
        }
        .section-title-main {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .section-title-icon {
            font-size: 24px;
        }
        .section-title-text {
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 20px;
            font-weight: 800;
            color: #1a1a2e;
        }
        .section-title-count {
            background: linear-gradient(135deg, #7c3aed, #8b5cf6);
            color: white;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 700;
            box-shadow: 0 2px 8px rgba(124, 58, 237, 0.3);
        }

        /* ÎèÑÏ†Ñ Ïπ¥Îìú Î¶¨Ïä§Ìä∏ */
        .challenge-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
            padding: 0 4px;
        }

        /* ÎèÑÏ†Ñ Ïπ¥Îìú */
        .challenge-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px;
            background: white;
            border-radius: 20px;
            border: 2px solid #e5e7eb;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
            transition: all 0.2s;
        }
        .challenge-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        .challenge-item.completed {
            background: linear-gradient(135deg, #7c3aed, #8b5cf6);
            border-color: #7c3aed;
        }
        .challenge-item.completed .challenge-text {
            color: white;
        }
        .challenge-item.completed .challenge-label {
            color: rgba(255,255,255,0.8);
        }

        /* ÏïÑÏù¥ÏΩò ÏòÅÏó≠ */
        .challenge-icon {
            width: 56px;
            height: 56px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            flex-shrink: 0;
        }
        .challenge-icon.blue {
            background: linear-gradient(135deg, #60a5fa, #3b82f6);
        }
        .challenge-icon.yellow {
            background: linear-gradient(135deg, #fde047, #facc15);
        }
        .challenge-icon.green {
            background: linear-gradient(135deg, #86efac, #4ade80);
        }

        /* ÌÖçÏä§Ìä∏ ÏòÅÏó≠ */
        .challenge-info {
            flex: 1;
            min-width: 0;
        }
        .challenge-label {
            font-size: 12px;
            color: #9ca3af;
            margin-bottom: 4px;
        }
        .challenge-text {
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 15px;
            font-weight: 600;
            color: #374151;
        }

        /* Î≤ÑÌäº ÏòÅÏó≠ */
        .challenge-btn {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 10px 18px;
            border-radius: 24px;
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 14px;
            font-weight: 700;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
            flex-shrink: 0;
        }
        .challenge-btn.orange {
            background: linear-gradient(135deg, #fb923c, #f97316);
            color: white;
            box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);
        }
        .challenge-btn.orange:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 16px rgba(249, 115, 22, 0.4);
        }
        .challenge-btn.done {
            background: linear-gradient(135deg, #fb923c, #f97316);
            color: white;
        }
        .challenge-btn-icon {
            width: 22px;
            height: 22px;
            background: rgba(255,255,255,0.3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }
        .challenge-btn-icon.star {
            background: linear-gradient(135deg, #fde047, #facc15);
            color: #92400e;
        }

        /* === KRS ÏäπÍ∏â ÎèÑÏ†Ñ (Í≤åÏûÑÌôîÎêú Ïä§ÌÉÄÏùº) === */
        .krs-quest-section {
            background: white;
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.08);
            border: 2px solid #e5e7eb;
        }

        /* ÌÄòÏä§Ìä∏ Ìó§Îçî */
        .krs-quest-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            padding: 16px 20px;
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            border-radius: 16px;
            border: 2px solid #3b82f6;
        }

        .krs-level-badge {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
            font-weight: 700;
            color: #1e40af;
        }

        .krs-level-badge i {
            font-size: 18px;
        }

        .krs-level-status {
            font-size: 14px;
            font-weight: 600;
            color: #ea580c;
            padding: 6px 14px;
            background: white;
            border-radius: 12px;
        }

        /* ÏßÑÌñâ ÏÉÅÌô© Ïπ¥Îìú */
        .krs-progress-card {
            background: white;
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.08);
            border: 2px solid #e5e7eb;
        }

        .krs-progress-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .krs-progress-title {
            font-size: 18px;
            font-weight: 700;
            color: #1f2937;
        }

        .krs-progress-score {
            display: flex;
            align-items: baseline;
            gap: 4px;
        }

        .krs-current-score {
            font-size: 28px;
            font-weight: 800;
            color: #3b82f6;
        }

        .krs-score-divider {
            font-size: 20px;
            color: #9ca3af;
            font-weight: 600;
        }

        .krs-target-score {
            font-size: 18px;
            font-weight: 700;
            color: #6b7280;
        }

        /* ÏßÑÌñâÎ•† Î∞î */
        .krs-progress-bar-container {
            margin-bottom: 12px;
        }

        .krs-progress-bar {
            height: 24px;
            background: #f3f4f6;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 8px;
            border: 2px solid #e5e7eb;
        }

        .krs-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #60a5fa);
            border-radius: 10px;
            transition: width 0.6s ease;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 8px;
        }

        .krs-progress-percent {
            font-size: 14px;
            font-weight: 700;
            color: #3b82f6;
            text-align: right;
        }

        .krs-remaining-info {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 16px;
            background: #fef3c7;
            border-radius: 12px;
            border: 2px solid #fbbf24;
            font-size: 14px;
            color: #92400e;
            margin-top: 12px;
        }

        .krs-remaining-info i {
            color: #f59e0b;
        }

        .krs-remaining-info strong {
            font-weight: 800;
            color: #ea580c;
        }

        /* Ï†êÏàò ÌöçÎìù Í∏∞Ï§Ä */
        .krs-points-guide {
            background: white;
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.08);
            border: 2px solid #e5e7eb;
        }

        .krs-guide-title {
            font-size: 16px;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 16px;
        }

        .krs-points-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin-bottom: 16px;
        }

        .krs-points-card {
            background: #f9fafb;
            border-radius: 16px;
            padding: 16px;
            border: 2px solid #e5e7eb;
        }

        .krs-points-card.week1 {
            border-color: #93c5fd;
            background: linear-gradient(135deg, #dbeafe 0%, #eff6ff 100%);
        }

        .krs-points-card.week2 {
            border-color: #a5b4fc;
            background: linear-gradient(135deg, #e0e7ff 0%, #eef2ff 100%);
        }

        .krs-points-week {
            font-size: 12px;
            font-weight: 700;
            color: #6b7280;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .krs-points-items {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 12px;
        }

        .krs-points-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 13px;
        }

        .krs-points-label {
            color: #4b5563;
            font-weight: 500;
        }

        .krs-points-value {
            font-size: 14px;
            font-weight: 800;
            color: #3b82f6;
        }

        .krs-points-total {
            font-size: 13px;
            font-weight: 700;
            color: #1f2937;
            padding-top: 8px;
            border-top: 2px solid rgba(0,0,0,0.1);
            text-align: right;
        }

        .krs-cycle-info {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 16px;
            background: #f3f4f6;
            border-radius: 12px;
            font-size: 13px;
            color: #4b5563;
        }

        .krs-cycle-info i {
            color: #6b7280;
        }

        .krs-cycle-info strong {
            font-weight: 700;
            color: #1f2937;
        }

        /* Î≥¥ÏÉÅ Ïπ¥Îìú */
        .krs-reward-card {
            background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 4px 16px rgba(251,191,36,0.2);
            border: 2px solid #fbbf24;
        }

        .krs-reward-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .krs-reward-title {
            font-size: 16px;
            font-weight: 700;
            color: #1f2937;
        }

        .krs-reward-badge {
            padding: 6px 14px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 800;
            letter-spacing: 0.5px;
        }

        .krs-reward-badge.bronze {
            background: linear-gradient(135deg, #cd7f32, #d4a574);
            color: white;
            box-shadow: 0 2px 8px rgba(205,127,50,0.3);
        }

        .krs-reward-content {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 16px;
        }

        .krs-reward-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px;
            background: white;
            border-radius: 12px;
            border: 2px solid #fbbf24;
        }

        .krs-reward-icon {
            font-size: 32px;
            flex-shrink: 0;
        }

        .krs-reward-text {
            flex: 1;
        }

        .krs-reward-label {
            font-size: 13px;
            font-weight: 700;
            color: #92400e;
            margin-bottom: 2px;
        }

        .krs-reward-desc {
            font-size: 14px;
            font-weight: 600;
            color: #1f2937;
        }

        .krs-quest-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 3px solid #fbbf24;
        }

        .krs-quest-title-area {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .krs-quest-badge-icon {
            font-size: 48px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .krs-quest-title-text {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .krs-quest-title {
            font-size: 20px;
            font-weight: 800;
            color: #1f2937;
            margin: 0;
        }

        .krs-quest-subtitle {
            font-size: 14px;
            font-weight: 600;
            color: #6b7280;
            margin: 0;
        }

        .krs-quest-level-tag {
            padding: 8px 16px;
            background: linear-gradient(135deg, #3b82f6, #60a5fa);
            color: white;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 800;
            box-shadow: 0 4px 12px rgba(59,130,246,0.3);
        }

        /* ÏßÑÌñâÎ•† Ïπ¥Îìú */
        .krs-quest-progress-card {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            border: 2px solid #3b82f6;
        }

        .krs-quest-progress-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
        }

        .krs-quest-progress-label {
            font-size: 14px;
            font-weight: 700;
            color: #1e40af;
        }

        .krs-quest-progress-score {
            font-size: 18px;
            font-weight: 800;
            color: #1e40af;
        }

        .krs-quest-progress-bar {
            height: 32px;
            background: rgba(255,255,255,0.6);
            border-radius: 16px;
            overflow: hidden;
            margin-bottom: 12px;
            border: 2px solid #3b82f6;
            position: relative;
        }

        .krs-quest-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #fbbf24, #f59e0b);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 12px;
            transition: width 0.6s ease;
            box-shadow: 0 0 20px rgba(251,191,36,0.5);
        }

        .krs-quest-progress-percent {
            font-size: 14px;
            font-weight: 800;
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }

        .krs-quest-progress-remaining {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 600;
            color: #1e40af;
        }

        .krs-quest-progress-remaining i {
            color: #f59e0b;
            font-size: 16px;
        }

        .krs-quest-progress-remaining strong {
            font-weight: 800;
            color: #ea580c;
        }

        /* ÌôúÎèô ÎØ∏ÏÖò */
        .krs-quest-missions {
            margin-bottom: 20px;
        }

        .krs-quest-missions-title {
            font-size: 16px;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 12px;
        }

        .krs-quest-mission-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 12px;
        }

        .krs-quest-mission-card {
            background: white;
            border-radius: 12px;
            padding: 16px;
            border: 2px solid #e5e7eb;
            display: flex;
            align-items: center;
            gap: 12px;
            position: relative;
            transition: all 0.3s ease;
        }

        .krs-quest-mission-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            border-color: #fbbf24;
        }

        .krs-quest-mission-card.highlight {
            background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
            border-color: #fbbf24;
            box-shadow: 0 0 20px rgba(251,191,36,0.3);
        }

        .krs-quest-mission-icon {
            font-size: 32px;
            flex-shrink: 0;
        }

        .krs-quest-mission-content {
            flex: 1;
        }

        .krs-quest-mission-name {
            font-size: 14px;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 4px;
        }

        .krs-quest-mission-xp {
            font-size: 16px;
            font-weight: 800;
            color: #f59e0b;
        }

        .krs-quest-mission-badge {
            position: absolute;
            top: 8px;
            right: 8px;
            padding: 4px 8px;
            background: #3b82f6;
            color: white;
            border-radius: 6px;
            font-size: 10px;
            font-weight: 700;
        }

        .krs-quest-cycle-note {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 16px;
            background: #f3f4f6;
            border-radius: 12px;
            font-size: 13px;
            color: #4b5563;
        }

        .krs-quest-cycle-note i {
            color: #3b82f6;
        }

        /* Î≥¥ÏÉÅ ÎØ∏Î¶¨Î≥¥Í∏∞ */
        .krs-quest-reward-preview {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-radius: 16px;
            padding: 20px;
            border: 3px solid #fbbf24;
            box-shadow: 0 0 30px rgba(251,191,36,0.3);
        }

        .krs-quest-reward-title {
            font-size: 16px;
            font-weight: 800;
            color: #92400e;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .krs-quest-reward-title i {
            color: #f59e0b;
            font-size: 18px;
        }

        .krs-quest-reward-items {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            margin-bottom: 16px;
        }

        .krs-quest-reward-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            padding: 16px 24px;
            background: white;
            border-radius: 12px;
            border: 2px solid #fbbf24;
            font-size: 14px;
            font-weight: 700;
            color: #1f2937;
        }

        .krs-quest-reward-icon {
            font-size: 40px;
        }

        .krs-quest-reward-divider {
            font-size: 24px;
            font-weight: 800;
            color: #92400e;
        }

        .krs-quest-reward-message {
            text-align: center;
            font-size: 14px;
            font-weight: 600;
            color: #92400e;
            padding: 12px 16px;
            background: rgba(255,255,255,0.6);
            border-radius: 12px;
        }

        /* ÌÜµÌï© Ìó§Îçî (Î∞∞ÏßÄ + Î≥¥ÏÉÅ) */
        .krs-quest-header-unified {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            border: 3px solid #fbbf24;
            box-shadow: 0 4px 20px rgba(251,191,36,0.3);
        }

        .krs-quest-header-top {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
            padding-bottom: 16px;
            border-bottom: 2px solid rgba(251,191,36,0.3);
        }

        .krs-quest-reward-inline {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
        }

        .krs-quest-reward-label {
            font-size: 14px;
            font-weight: 700;
            color: #92400e;
        }

        .krs-quest-reward-badges {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .krs-reward-badge {
            padding: 8px 16px;
            background: white;
            border-radius: 12px;
            border: 2px solid #fbbf24;
            font-size: 14px;
            font-weight: 700;
            color: #1f2937;
            white-space: nowrap;
        }

        .krs-reward-divider {
            font-size: 18px;
            font-weight: 800;
            color: #92400e;
        }

        /* KRS ÎØ∏ÏÖò Ï±åÎ¶∞ÏßÄ ÏïÑÏù¥ÌÖú */
        .challenge-item.krs-mission {
            background: linear-gradient(135deg, #fffbeb 0%, #fefce8 100%);
            border-color: #fbbf24;
            transition: all 0.3s ease;
        }

        .challenge-item.krs-mission:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(251,191,36,0.3);
            border-color: #f59e0b;
        }

        /* XP Î≤ÑÌäº */
        .challenge-btn.xp-btn {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            color: white;
            font-weight: 800;
            box-shadow: 0 4px 12px rgba(251,191,36,0.4);
            border: none;
        }

        .challenge-btn.xp-btn:hover {
            background: linear-gradient(135deg, #f59e0b 0%, #ea580c 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(251,191,36,0.5);
        }

        .challenge-btn.xp-btn .challenge-btn-icon.star {
            font-size: 16px;
            animation: sparkle 2s infinite;
        }

        @keyframes sparkle {
            0%, 100% { transform: scale(1) rotate(0deg); opacity: 1; }
            50% { transform: scale(1.2) rotate(180deg); opacity: 0.8; }
        }

        /* Î≥¥ÎùºÏÉâ ÏïÑÏù¥ÏΩò */
        .challenge-icon.purple {
            background: linear-gradient(135deg, #a78bfa 0%, #8b5cf6 100%);
        }

        /* ÌÄòÏä§Ìä∏ Ìë∏ÌÑ∞ */
        .krs-quest-footer {
            margin-top: 20px;
            padding: 16px;
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            border-radius: 12px;
            border: 2px solid #3b82f6;
            text-align: center;
        }

        .krs-quest-footer-text {
            font-size: 14px;
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 8px;
        }

        .krs-quest-footer-highlight {
            font-size: 16px;
            font-weight: 800;
            color: #ea580c;
        }

        /* === A ÏòÅÏó≠: 6Í∞úÏõî Ïû•Í∏∞ Î™©Ìëú (Í≥®Îìú Í≤åÏûÑ ÌÖåÎßà) === */
        .krs-long-term-section {
            margin-bottom: 32px;
        }

        .krs-goal-card {
            background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
            border-radius: 24px;
            padding: 36px;
            border: 4px solid #fbbf24;
            box-shadow: 0 8px 32px rgba(251, 191, 36, 0.4), 0 0 60px rgba(251, 191, 36, 0.1);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .krs-goal-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(251,191,36,0.15) 0%, transparent 70%);
            animation: shine 4s ease-in-out infinite;
        }

        @keyframes shine {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(180deg); }
        }

        .krs-goal-card:hover {
            box-shadow: 0 12px 40px rgba(251, 191, 36, 0.5), 0 0 80px rgba(251, 191, 36, 0.2);
            transform: translateY(-4px);
        }

        .krs-goal-header {
            display: flex;
            align-items: center;
            gap: 28px;
            margin-bottom: 32px;
            position: relative;
            z-index: 1;
        }

        .krs-goal-badge-large {
            font-size: 96px;
            flex-shrink: 0;
            filter: drop-shadow(0 8px 16px rgba(251, 191, 36, 0.6));
            animation: bounce-trophy 2s ease-in-out infinite;
        }

        @keyframes bounce-trophy {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-12px) scale(1.05); }
        }

        .krs-goal-info {
            flex: 1;
        }

        .krs-goal-title {
            font-size: 26px;
            font-weight: 900;
            color: #92400e;
            margin: 0 0 10px 0;
            text-shadow: 2px 2px 4px rgba(251, 191, 36, 0.3);
        }

        .krs-goal-subtitle {
            font-size: 17px;
            font-weight: 600;
            color: #b45309;
            margin: 0;
        }

        .krs-goal-level-tag {
            padding: 12px 24px;
            background: linear-gradient(135deg, #f59e0b, #fbbf24);
            color: white;
            border-radius: 16px;
            font-size: 16px;
            font-weight: 900;
            flex-shrink: 0;
            box-shadow: 0 6px 16px rgba(251, 191, 36, 0.5);
            border: 2px solid #fcd34d;
            animation: pulse-glow 2s ease-in-out infinite;
        }

        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 6px 16px rgba(251, 191, 36, 0.5); }
            50% { box-shadow: 0 8px 24px rgba(251, 191, 36, 0.8); }
        }

        .krs-goal-progress {
            background: white;
            border-radius: 20px;
            padding: 28px;
            margin-bottom: 28px;
            border: 3px solid #fbbf24;
            box-shadow: 0 4px 16px rgba(251, 191, 36, 0.15);
            position: relative;
            z-index: 1;
        }

        .krs-goal-progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .krs-goal-progress-label {
            font-size: 17px;
            font-weight: 800;
            color: #92400e;
        }

        .krs-goal-progress-xp {
            font-size: 22px;
            font-weight: 900;
            color: #b45309;
        }

        .krs-goal-progress-bar {
            height: 24px;
            background: #fef3c7;
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            margin-bottom: 16px;
            border: 3px solid #fbbf24;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }

        .krs-goal-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #f59e0b, #fbbf24, #fcd34d);
            background-size: 200% 100%;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 16px;
            transition: width 0.5s ease;
            box-shadow: 0 0 20px rgba(251, 191, 36, 0.6);
            animation: shimmer-gold 3s linear infinite;
        }

        @keyframes shimmer-gold {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        .krs-goal-progress-percent {
            font-size: 14px;
            font-weight: 900;
            color: white;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .krs-goal-progress-remaining {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 16px;
            font-weight: 700;
            color: #92400e;
        }

        .krs-goal-progress-remaining i {
            color: #f59e0b;
            font-size: 20px;
            animation: sparkle-icon 2s ease-in-out infinite;
        }

        @keyframes sparkle-icon {
            0%, 100% { transform: scale(1) rotate(0deg); }
            50% { transform: scale(1.2) rotate(15deg); }
        }

        .krs-goal-progress-remaining strong {
            font-weight: 900;
            color: #b45309;
            font-size: 18px;
        }

        .krs-goal-reward {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-radius: 20px;
            padding: 24px 28px;
            margin-bottom: 24px;
            border: 3px solid #fbbf24;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            flex-wrap: wrap;
            box-shadow: 0 8px 24px rgba(251, 191, 36, 0.3), 0 0 40px rgba(251, 191, 36, 0.1);
            position: relative;
            z-index: 1;
            animation: glow-pulse 2s ease-in-out infinite;
        }

        @keyframes glow-pulse {
            0%, 100% { box-shadow: 0 8px 24px rgba(251, 191, 36, 0.3), 0 0 40px rgba(251, 191, 36, 0.1); }
            50% { box-shadow: 0 12px 32px rgba(251, 191, 36, 0.4), 0 0 60px rgba(251, 191, 36, 0.2); }
        }

        .krs-goal-reward-label {
            font-size: 18px;
            font-weight: 800;
            color: #92400e;
        }

        .krs-goal-reward-items {
            display: flex;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
        }

        .krs-goal-reward-item {
            padding: 10px 20px;
            background: white;
            border-radius: 16px;
            font-size: 16px;
            font-weight: 800;
            color: #92400e;
            border: 3px solid #fbbf24;
            box-shadow: 0 4px 12px rgba(251, 191, 36, 0.3);
            animation: bounce-reward 1s ease-in-out infinite;
        }

        @keyframes bounce-reward {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-4px); }
        }

        .krs-goal-reward-divider {
            font-size: 20px;
            font-weight: 900;
            color: #f59e0b;
        }

        .krs-goal-period {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            padding: 16px 24px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 16px;
            font-size: 15px;
            font-weight: 700;
            color: #92400e;
            border: 3px dashed #fbbf24;
            position: relative;
            z-index: 1;
        }

        /* ===== ÌÜ†Ïä§ Ïä§ÌÉÄÏùº Î™©Ìëú Ïπ¥Îìú ===== */
        .toss-goal-card {
            background: #ffffff;
            border-radius: 24px;
            padding: 0;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .toss-goal-card:hover {
            box-shadow: 0 4px 28px rgba(0, 0, 0, 0.12);
            transform: translateY(-2px);
        }

        /* ÌûàÏñ¥Î°ú ÏÑπÏÖò */
        .toss-hero-section {
            background: linear-gradient(135deg, #e0f2fe 0%, #ddd6fe 100%);
            padding: 20px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            position: relative;
            overflow: hidden;
        }

        .toss-character-container {
            position: relative;
        }

        .toss-character-bg {
            width: 90px;
            height: 90px;
            background: linear-gradient(135deg, #bfdbfe 0%, #c4b5fd 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            box-shadow: 0 4px 16px rgba(96, 165, 250, 0.3);
        }

        .toss-clouds {
            position: absolute;
            inset: 0;
            overflow: hidden;
            border-radius: 50%;
        }

        .cloud {
            position: absolute;
            font-size: 14px;
            opacity: 0.6;
            animation: float-cloud 8s ease-in-out infinite;
        }

        .cloud:nth-child(1) {
            top: 20%;
            left: 10%;
            animation-delay: 0s;
        }

        .cloud:nth-child(2) {
            top: 60%;
            right: 15%;
            animation-delay: 2s;
        }

        .cloud:nth-child(3) {
            bottom: 20%;
            left: 20%;
            animation-delay: 4s;
        }

        @keyframes float-cloud {
            0%, 100% {
                transform: translateY(0) translateX(0);
            }
            50% {
                transform: translateY(-8px) translateX(8px);
            }
        }

        .toss-character {
            font-size: 48px;
            position: relative;
            z-index: 2;
            animation: bounce-character 3s ease-in-out infinite;
            filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.1));
        }

        @keyframes bounce-character {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-5px);
            }
        }

        .toss-badge-floating {
            position: absolute;
            top: -6px;
            right: -6px;
            font-size: 26px;
            animation: rotate-badge 4s ease-in-out infinite;
            filter: drop-shadow(0 2px 8px rgba(251, 191, 36, 0.4));
        }

        @keyframes rotate-badge {
            0%, 100% {
                transform: rotate(-10deg) scale(1);
            }
            50% {
                transform: rotate(10deg) scale(1.05);
            }
        }

        .toss-goal-title {
            text-align: center;
        }

        .toss-goal-title h3 {
            font-size: 17px;
            font-weight: 800;
            color: #1e293b;
            margin: 0 0 4px 0;
            line-height: 1.3;
        }

        .toss-goal-title p {
            font-size: 13px;
            font-weight: 600;
            color: #64748b;
            margin: 0;
        }

        /* ÏßÑÌñâÎèÑ Ïπ¥Îìú */
        .toss-progress-card {
            padding: 18px 20px;
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
        }

        .toss-progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .toss-level-badge {
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            color: white;
            padding: 6px 12px;
            border-radius: 10px;
            font-size: 12px;
            font-weight: 800;
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
        }

        .toss-xp-text {
            font-size: 15px;
            font-weight: 700;
            color: #334155;
            display: flex;
            align-items: baseline;
            gap: 3px;
        }

        .xp-current {
            font-size: 19px;
            color: #3b82f6;
        }

        .xp-divider {
            color: #cbd5e1;
            font-size: 15px;
        }

        .xp-total {
            color: #64748b;
        }

        .toss-progress-bar-wrapper {
            margin-bottom: 12px;
        }

        .toss-progress-bar {
            height: 12px;
            background: #e2e8f0;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            margin-bottom: 6px;
        }

        .toss-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6 0%, #8b5cf6 100%);
            border-radius: 10px;
            position: relative;
            transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 8px rgba(59, 130, 246, 0.4);
        }

        .toss-progress-sparkle {
            position: absolute;
            right: 6px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 10px;
            animation: sparkle-pulse 2s ease-in-out infinite;
        }

        @keyframes sparkle-pulse {
            0%, 100% {
                opacity: 0.6;
                transform: translateY(-50%) scale(1);
            }
            50% {
                opacity: 1;
                transform: translateY(-50%) scale(1.2);
            }
        }

        .toss-progress-label {
            text-align: right;
            font-size: 11px;
            font-weight: 700;
            color: #3b82f6;
        }

        .toss-remaining {
            display: flex;
            justify-content: center;
        }

        .toss-remaining-badge {
            background: linear-gradient(135deg, #fef3c7 0%, #fed7aa 100%);
            border: 2px solid #fbbf24;
            border-radius: 12px;
            padding: 8px 14px;
            display: flex;
            align-items: center;
            gap: 6px;
            box-shadow: 0 2px 8px rgba(251, 191, 36, 0.2);
        }

        .toss-remaining-badge .badge-icon {
            font-size: 14px;
        }

        .toss-remaining-badge .badge-text {
            font-size: 12px;
            font-weight: 700;
            color: #92400e;
        }

        /* ÎßàÏùºÏä§ÌÜ§ */
        .toss-milestones {
            padding: 18px 20px;
            background: white;
        }

        .toss-milestone-title {
            font-size: 14px;
            font-weight: 800;
            color: #1e293b;
            margin-bottom: 12px;
        }

        .toss-milestone-grid {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .toss-milestone-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: #f8fafc;
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .toss-milestone-item.completed {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            border: 2px solid #10b981;
        }

        .toss-milestone-item.locked {
            background: #f1f5f9;
            opacity: 0.6;
        }

        .toss-milestone-item:hover {
            transform: translateX(3px);
        }

        .milestone-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 900;
            flex-shrink: 0;
        }

        .toss-milestone-item.completed .milestone-icon {
            background: #10b981;
            color: white;
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
        }

        .toss-milestone-item.locked .milestone-icon {
            background: #cbd5e1;
            color: white;
        }

        .milestone-info {
            flex: 1;
        }

        .milestone-name {
            font-size: 13px;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 3px;
        }

        .milestone-xp {
            font-size: 11px;
            font-weight: 600;
            color: #64748b;
        }

        .milestone-reward {
            font-size: 22px;
            flex-shrink: 0;
        }

        /* Î≥¥ÏÉÅ ÎØ∏Î¶¨Î≥¥Í∏∞ */
        .toss-reward-preview {
            padding: 18px 20px;
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-top: 1px solid #fbbf24;
        }

        .toss-reward-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
        }

        .reward-emoji {
            font-size: 22px;
        }

        .reward-title {
            font-size: 13px;
            font-weight: 800;
            color: #78350f;
        }

        .toss-reward-items {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .toss-reward-chip {
            background: white;
            border: 2px solid #fbbf24;
            border-radius: 10px;
            padding: 7px 12px;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(251, 191, 36, 0.2);
        }

        .toss-reward-chip:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 12px rgba(251, 191, 36, 0.3);
            border-color: #f59e0b;
        }

        .chip-icon {
            font-size: 16px;
        }

        .chip-text {
            font-size: 12px;
            font-weight: 700;
            color: #92400e;
        }

        /* Ìë∏ÌÑ∞ */
        .toss-footer {
            padding: 16px 20px;
            background: white;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .toss-info-text {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            font-size: 11px;
            font-weight: 600;
            color: #64748b;
        }

        .toss-info-text i {
            color: #3b82f6;
            font-size: 13px;
        }

        .toss-cta-btn {
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 12px;
            font-size: 13px;
            font-weight: 800;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            transition: all 0.3s ease;
            box-shadow: 0 3px 12px rgba(59, 130, 246, 0.3);
        }

        .toss-cta-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(59, 130, 246, 0.4);
        }

        .toss-cta-btn:active {
            transform: translateY(0);
        }

        /* ===== Ïª¥Ìå©Ìä∏ Ïä§ÌÉÄÏùº Î™©Ìëú Ïπ¥Îìú ===== */
        .toss-goal-card-compact {
            background: #ffffff;
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 2px 16px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
        }

        .toss-goal-card-compact:hover {
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.12);
        }

        /* Î©îÏù∏ Ï†ïÎ≥¥ ÏòÅÏó≠ */
        .compact-main {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
            padding-bottom: 16px;
            border-bottom: 1px solid #e2e8f0;
        }

        .compact-badge {
            font-size: 51px;
            flex-shrink: 0;
            width: 100px;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #fef3c7 0%, #ffedd5 100%);
            border-radius: 50%;
            border: 3px solid #fdba74;
            box-shadow: 0 4px 16px rgba(251, 146, 60, 0.3);
            position: relative;
        }

        .compact-badge::before {
            content: '';
            position: absolute;
            inset: -6px;
            background: linear-gradient(135deg, #f97316 0%, #ef4444 100%);
            border-radius: 50%;
            opacity: 0.15;
            z-index: -1;
        }

        .compact-reward-badge {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            flex-shrink: 0;
            position: relative;
        }

        .reward-badge-icon {
            font-size: 54px;
            width: 110px;
            height: 110px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 50%, #d1d5db 100%);
            border-radius: 50%;
            border: 3px dashed #9ca3af;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            position: relative;
            opacity: 0.7;
            filter: grayscale(0.3);
        }

        @keyframes rewardPulse {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 0 30px rgba(245, 158, 11, 0.6), 0 8px 24px rgba(245, 158, 11, 0.4);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 0 40px rgba(245, 158, 11, 0.8), 0 12px 32px rgba(245, 158, 11, 0.5);
            }
        }

        .reward-badge-icon::before {
            content: 'üîí';
            position: absolute;
            top: -8px;
            right: -8px;
            font-size: 20px;
            opacity: 0.6;
        }

        .reward-badge-icon::after {
            content: '';
            position: absolute;
            inset: -8px;
            background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 50%, #e5e7eb 100%);
            border-radius: 50%;
            opacity: 0.15;
            z-index: -1;
        }

        @keyframes sparkleRotate {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }

        @keyframes glowPulse {
            0%, 100% {
                opacity: 0.2;
                transform: scale(1);
            }
            50% {
                opacity: 0.4;
                transform: scale(1.1);
            }
        }

        .reward-badge-label {
            font-size: 14px;
            font-weight: 800;
            color: #6b7280;
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
            padding: 6px 16px;
            border-radius: 16px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
            position: relative;
            overflow: hidden;
            border: 2px solid #d1d5db;
        }

        .reward-badge-label::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%);
        }

        @keyframes shimmer {
            0% {
                transform: translateX(-100%) translateY(-100%) rotate(45deg);
            }
            100% {
                transform: translateX(100%) translateY(100%) rotate(45deg);
            }
        }

        .compact-info {
            flex: 1;
        }

        .compact-title {
            font-size: 16px;
            font-weight: 800;
            color: #1e293b;
            margin-bottom: 4px;
        }

        .compact-level {
            font-size: 13px;
            font-weight: 700;
            color: #3b82f6;
            margin-bottom: 10px;
        }

        /* 24Ï£ºÏ∞® ÏßÑÌñâ Ïπ∏ */
        .week-progress-container {
            margin-bottom: 8px;
        }

        .week-progress-grid {
            display: grid;
            grid-template-columns: repeat(24, 1fr);
            gap: 3px;
            margin-bottom: 6px;
        }

        .week-box {
            height: 10px;
            border-radius: 2px;
            transition: all 0.3s ease;
            position: relative;
        }

        .week-box.completed {
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            box-shadow: 0 0 4px rgba(59, 130, 246, 0.4);
        }

        .week-box.empty {
            background: #e2e8f0;
            border: 1px solid #cbd5e1;
        }

        .week-box.missing {
            background: #fef2f2;
            border: 1px solid #fca5a5;
            animation: pulse-warning 2s ease-in-out infinite;
        }

        @keyframes pulse-warning {
            0%, 100% {
                box-shadow: 0 0 0 rgba(239, 68, 68, 0);
            }
            50% {
                box-shadow: 0 0 4px rgba(239, 68, 68, 0.5);
            }
        }

        .week-tooltip {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            margin-bottom: 6px;
            background: #ef4444;
            color: white;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 9px;
            font-weight: 700;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            z-index: 10;
        }

        .week-tooltip::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 4px solid transparent;
            border-top-color: #ef4444;
        }

        .week-box.missing:hover .week-tooltip {
            opacity: 1;
        }

        .week-box:hover {
            transform: translateY(-1px);
        }

        .week-progress-info {
            display: flex;
            justify-content: space-between;
            font-size: 10px;
            font-weight: 600;
        }

        .weeks-completed {
            color: #3b82f6;
        }

        .weeks-remaining {
            color: #64748b;
        }

        .compact-xp {
            font-size: 12px;
            font-weight: 700;
            color: #334155;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .compact-xp .xp-current {
            font-size: 15px;
            color: #3b82f6;
        }

        .compact-xp .xp-total {
            color: #64748b;
        }

        .compact-xp .xp-percent {
            color: #10b981;
            margin-left: 4px;
        }

        /* Î≥¥ÏôÑ ÌïÑÏöî ÏòÅÏó≠ */
        .compact-missing-section {
            margin-bottom: 16px;
            padding: 16px;
            background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
            border: 2px solid #fca5a5;
            border-radius: 12px;
        }

        .missing-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
        }

        .missing-icon {
            font-size: 16px;
        }

        .missing-title {
            font-size: 13px;
            font-weight: 800;
            color: #dc2626;
        }

        .missing-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .missing-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 12px;
            background: white;
            border-radius: 8px;
            border: 1px solid #fecaca;
            transition: all 0.3s ease;
        }

        .missing-item:hover {
            transform: translateX(4px);
            border-color: #f87171;
            box-shadow: 0 2px 8px rgba(239, 68, 68, 0.2);
        }

        .missing-week {
            font-size: 11px;
            font-weight: 800;
            color: #dc2626;
            background: #fef2f2;
            padding: 4px 8px;
            border-radius: 6px;
            flex-shrink: 0;
        }

        .missing-text {
            font-size: 12px;
            font-weight: 600;
            color: #1e293b;
        }

        .highlight-emphasis {
            display: inline-block;
            padding: 2px 8px;
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border: 1px solid #fbbf24;
            border-radius: 6px;
            font-weight: 700;
            color: #92400e;
        }

        /* Î≥¥ÏÉÅ ÏòÅÏó≠ */
        .compact-rewards {
            margin-bottom: 14px;
            padding-bottom: 14px;
            border-bottom: 1px solid #e2e8f0;
        }

        .compact-reward-title {
            font-size: 12px;
            font-weight: 700;
            color: #78350f;
            margin-bottom: 8px;
        }

        .compact-reward-list {
            display: flex;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
        }

        .compact-reward-item {
            font-size: 12px;
            font-weight: 600;
            color: #1e293b;
            background: #fef3c7;
            padding: 6px 12px;
            border-radius: 8px;
            border: 1px solid #fbbf24;
        }

        .compact-reward-divider {
            color: #cbd5e1;
            font-weight: 600;
        }

        /* ÌïòÎã® ÏïàÎÇ¥ */
        .compact-footer {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            font-size: 11px;
            font-weight: 600;
            color: #64748b;
        }

        .compact-footer i {
            color: #3b82f6;
            font-size: 13px;
        }

        /* KRS Î°úÎìúÎßµ */
        .krs-roadmap {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0;
            padding: 32px 20px;
            margin-bottom: 16px;
            background: white;
            border-radius: 16px;
            border: 1px solid #e5e7eb;
            position: relative;
        }

        .roadmap-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .roadmap-current-badge {
            position: absolute;
            top: 8px;
            background: linear-gradient(135deg, #fb923c 0%, #f97316 100%);
            color: white;
            font-size: 12px;
            font-weight: 700;
            padding: 6px 14px;
            border-radius: 14px;
            white-space: nowrap;
            box-shadow: 0 4px 12px rgba(251, 146, 60, 0.4);
            z-index: 10;
            transform: translateX(-50%);
        }

        .roadmap-current-badge::after {
            content: '';
            position: absolute;
            bottom: -6px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-top: 8px solid #f97316;
        }

        .roadmap-icon-wrapper {
            width: 52px;
            height: 52px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            border: 3px solid #e5e7eb;
            margin-bottom: 8px;
            transition: all 0.3s ease;
        }

        .roadmap-step.active .roadmap-icon-wrapper {
            border-color: #f97316;
            border-width: 3px;
            background: white;
        }

        .roadmap-step.inactive .roadmap-icon-wrapper {
            border-color: #e5e7eb;
            opacity: 0.5;
        }

        .roadmap-icon {
            font-size: 24px;
            line-height: 1;
        }

        .roadmap-info {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2px;
        }

        .roadmap-score {
            font-size: 12px;
            font-weight: 700;
            color: #1f2937;
        }

        .roadmap-step.inactive .roadmap-score {
            color: #9ca3af;
        }

        .roadmap-label {
            font-size: 11px;
            font-weight: 600;
            color: #6b7280;
            white-space: nowrap;
        }

        .roadmap-step.inactive .roadmap-label {
            color: #d1d5db;
        }

        .roadmap-badge {
            font-size: 9px;
            font-weight: 600;
            color: #92400e;
            background: #fef3c7;
            padding: 2px 6px;
            border-radius: 6px;
            margin-top: 4px;
            white-space: nowrap;
        }

        .roadmap-line-container {
            flex: 1;
            height: 12px;
            margin: 0 -2px;
            margin-bottom: 60px;
            position: relative;
            z-index: 1;
            border-radius: 6px;
            overflow: hidden;
        }

        .roadmap-line-bg {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100%;
            background: #e5e7eb;
        }

        .roadmap-line-progress {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: linear-gradient(90deg, #fb923c 0%, #f97316 100%);
            transition: width 0.5s ease;
        }

        /* Î†àÎ≤®ÏóÖ Ï†ïÎ≥¥ Î≤ÑÌäº */
        .levelup-info-btn {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 8px 14px;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border: 1px solid #38bdf8;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            color: #0284c7;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .levelup-info-btn:hover {
            background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(56, 189, 248, 0.2);
        }

        .levelup-info-btn i {
            font-size: 16px;
        }

        /* Î†àÎ≤®ÏóÖ Ï†ïÎ≥¥ Î™®Îã¨ */
        .levelup-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.2s ease;
        }

        .levelup-modal-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
        }

        .levelup-modal-content {
            position: relative;
            width: 90%;
            max-width: 520px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .levelup-modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px 24px;
            background: linear-gradient(135deg, #fb923c 0%, #f97316 100%);
            color: white;
        }

        .levelup-modal-header h3 {
            font-size: 18px;
            font-weight: 700;
            margin: 0;
        }

        .levelup-modal-close {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.2s ease;
        }

        .levelup-modal-close:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* levelup-modal-bodyÎäî Îã®Í≥ÑÎ≥Ñ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò Ïä§ÌÉÄÏùºÏóêÏÑú Ïû¨Ï†ïÏùòÎê® */

        /* Ìã∞Ïñ¥Ìëú Ïä§ÌÉÄÏùº */
        .levelup-tier-section {
            margin-bottom: 24px;
        }

        .levelup-section-title {
            font-size: 16px;
            font-weight: 700;
            color: #1f2937;
            margin: 0 0 16px 0;
        }

        .levelup-tier-table {
            display: flex;
            flex-direction: column;
            gap: 12px;
            background: linear-gradient(135deg, #fef3c7 0%, #ffedd5 100%);
            padding: 16px;
            border-radius: 12px;
        }

        .tier-row {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .tier-icon {
            font-size: 28px;
            width: 40px;
            text-align: center;
        }

        .tier-name {
            flex: 1;
            font-size: 15px;
            font-weight: 600;
            color: #374151;
        }

        .tier-score {
            font-size: 16px;
            font-weight: 700;
            color: #f97316;
        }

        /* Ï†êÏàò ÏñªÎäî Î∞©Î≤ï Ïä§ÌÉÄÏùº */
        .levelup-points-section {
            background: #f9fafb;
            border-radius: 12px;
            overflow: hidden;
        }

        .levelup-points-toggle {
            width: 100%;
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 14px 16px;
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            border: none;
            color: white;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .levelup-points-toggle:hover {
            background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
        }

        .toggle-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s ease;
        }

        .levelup-points-detail {
            padding: 20px;
            animation: expandDown 0.3s ease;
        }

        @keyframes expandDown {
            from {
                opacity: 0;
                max-height: 0;
            }
            to {
                opacity: 1;
                max-height: 1000px;
            }
        }

        .points-week-group {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 2px dashed #e5e7eb;
        }

        .points-week-group:last-of-type {
            border-bottom: none;
        }

        .points-week-title {
            font-size: 14px;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 12px;
            padding: 6px 12px;
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            border-radius: 8px;
            display: inline-block;
        }

        .points-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 12px;
            margin-bottom: 6px;
            background: white;
            border-radius: 8px;
        }

        .points-activity {
            font-size: 14px;
            color: #4b5563;
        }

        .points-value {
            font-size: 14px;
            font-weight: 700;
            color: #f97316;
        }

        .points-summary {
            margin-top: 20px;
            padding: 16px;
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-radius: 12px;
        }

        .summary-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 12px;
            font-size: 13px;
            color: #374151;
        }

        .summary-item i {
            color: #f59e0b;
            margin-top: 2px;
            font-size: 16px;
        }

        .summary-item strong {
            color: #f97316;
            font-weight: 700;
        }

        .points-notice {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-top: 16px;
            padding: 12px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #ef4444;
            font-size: 12px;
            color: #dc2626;
            line-height: 1.5;
        }

        .points-notice i {
            font-size: 16px;
            margin-top: 1px;
        }

        /* Îã®Í≥ÑÎ≥Ñ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò Ïä§ÌÉÄÏùº */
        .levelup-modal-content {
            display: flex;
            flex-direction: column;
            max-height: 85vh;
        }

        .levelup-modal-body {
            flex: 1;
            overflow: hidden;
            position: relative;
            min-height: 420px;
            padding: 24px;
        }

        .levelup-steps-container {
            height: 100%;
            min-height: 420px;
            position: relative;
        }

        .levelup-step {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            min-height: 420px;
            opacity: 0;
            visibility: hidden;
            transform: translateX(30px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .levelup-step.active {
            opacity: 1;
            visibility: visible;
            transform: translateX(0);
        }

        /* Ï†êÏàò ÏñªÎäî Î∞©Î≤ï - 2Îã® Í∑∏Î¶¨Îìú */
        .levelup-points-content-compact {
            margin-top: 8px;
        }

        .points-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-bottom: 16px;
        }

        .points-column {
            background: #f9fafb;
            padding: 12px;
            border-radius: 12px;
        }

        .points-summary-compact {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            padding: 14px;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .summary-row {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: #374151;
        }

        .summary-row i {
            color: #f59e0b;
            font-size: 14px;
        }

        .summary-row strong {
            color: #f97316;
        }

        .points-notice-compact {
            display: flex;
            align-items: flex-start;
            gap: 8px;
            margin-top: 12px;
            padding: 12px;
            background: white;
            border-radius: 8px;
            border-left: 3px solid #ef4444;
            font-size: 12px;
            color: #dc2626;
            line-height: 1.5;
        }

        .points-notice-compact i {
            font-size: 14px;
            margin-top: 1px;
            flex-shrink: 0;
        }

        /* ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò Ìë∏ÌÑ∞ */
        .levelup-modal-footer {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px 24px;
            background: white;
            border-top: 1px solid #e5e7eb;
        }

        .levelup-step-indicator {
            display: flex;
            gap: 8px;
        }

        .step-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #d1d5db;
            transition: all 0.3s ease;
        }

        .step-dot.active {
            width: 24px;
            border-radius: 4px;
            background: linear-gradient(135deg, #fb923c 0%, #f97316 100%);
        }

        .levelup-nav-btn-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #fb923c 0%, #f97316 100%);
            border: none;
            color: white;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(249, 115, 22, 0.3);
        }

        .levelup-nav-btn-circle:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(249, 115, 22, 0.4);
        }

        .levelup-nav-btn-circle:active {
            transform: scale(0.95);
        }

        .krs-goal-card-game::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                radial-gradient(circle at 20% 30%, rgba(139, 92, 246, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(59, 130, 246, 0.3) 0%, transparent 50%);
            animation: pulse-bg 4s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes pulse-bg {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 0.8; }
        }

        .krs-goal-card-game:hover {
            transform: translateY(-4px);
            box-shadow: 0 24px 70px rgba(124, 58, 237, 0.5),
                        0 0 100px rgba(124, 58, 237, 0.3),
                        inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        /* ÌååÌã∞ÌÅ¥ Ìö®Í≥º */
        .game-particles {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            font-size: 20px;
            animation: float-particle 6s ease-in-out infinite;
            opacity: 0.6;
        }

        .particle:nth-child(1) {
            left: 10%;
            top: 20%;
            animation-delay: 0s;
        }

        .particle:nth-child(2) {
            left: 80%;
            top: 15%;
            animation-delay: 1s;
        }

        .particle:nth-child(3) {
            left: 50%;
            top: 60%;
            animation-delay: 2s;
        }

        .particle:nth-child(4) {
            left: 20%;
            top: 80%;
            animation-delay: 3s;
        }

        .particle:nth-child(5) {
            left: 90%;
            top: 70%;
            animation-delay: 4s;
        }

        @keyframes float-particle {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
            }
            25% {
                transform: translateY(-15px) rotate(90deg);
            }
            50% {
                transform: translateY(-30px) rotate(180deg);
            }
            75% {
                transform: translateY(-15px) rotate(270deg);
            }
        }

        /* Í≤åÏûÑ Ìó§Îçî */
        .game-header {
            display: flex;
            align-items: center;
            gap: 28px;
            margin-bottom: 36px;
            position: relative;
            z-index: 2;
        }

        .game-quest-badge {
            position: relative;
            width: 120px;
            height: 120px;
            flex-shrink: 0;
        }

        .badge-glow {
            position: absolute;
            inset: -10px;
            background: radial-gradient(circle, rgba(251, 191, 36, 0.6) 0%, transparent 70%);
            border-radius: 50%;
            animation: pulse-glow 2s ease-in-out infinite;
        }

        @keyframes pulse-glow {
            0%, 100% {
                transform: scale(1);
                opacity: 0.8;
            }
            50% {
                transform: scale(1.2);
                opacity: 1;
            }
        }

        .badge-icon {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 80px;
            filter: drop-shadow(0 8px 20px rgba(251, 191, 36, 0.8));
            animation: bounce-badge 2.5s ease-in-out infinite;
        }

        @keyframes bounce-badge {
            0%, 100% {
                transform: translateY(0) scale(1);
            }
            50% {
                transform: translateY(-10px) scale(1.05);
            }
        }

        .game-quest-info {
            flex: 1;
        }

        .quest-type {
            font-size: 12px;
            font-weight: 800;
            color: #fbbf24;
            letter-spacing: 1.5px;
            margin-bottom: 8px;
            text-shadow: 0 2px 8px rgba(251, 191, 36, 0.5);
        }

        .quest-title {
            font-size: 28px;
            font-weight: 900;
            color: #ffffff;
            margin-bottom: 8px;
            text-shadow: 0 2px 12px rgba(0, 0, 0, 0.5);
        }

        .quest-subtitle {
            font-size: 16px;
            font-weight: 600;
            color: #c4b5fd;
        }

        /* Î†àÎ≤®ÏóÖ Î°úÎìúÎßµ */
        .level-roadmap {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(124, 58, 237, 0.5);
            border-radius: 20px;
            padding: 28px;
            margin-bottom: 28px;
            position: relative;
            z-index: 2;
        }

        .roadmap-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            font-size: 16px;
            font-weight: 700;
            color: #e0e7ff;
        }

        .roadmap-progress {
            font-size: 14px;
            color: #a78bfa;
            background: rgba(124, 58, 237, 0.2);
            padding: 6px 14px;
            border-radius: 12px;
        }

        .roadmap-path {
            position: relative;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 40px 0;
        }

        /* ÏßÑÌñâ ÎùºÏù∏ */
        .path-line {
            position: absolute;
            top: 50%;
            left: 8%;
            right: 8%;
            height: 6px;
            background: rgba(124, 58, 237, 0.3);
            border-radius: 3px;
            transform: translateY(-50%);
        }

        .path-line-progress {
            height: 100%;
            background: linear-gradient(90deg, #fbbf24 0%, #f59e0b 100%);
            border-radius: 3px;
            position: relative;
            transition: width 0.5s ease;
            box-shadow: 0 0 20px rgba(251, 191, 36, 0.6);
        }

        .path-line-progress::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 30px;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.5));
            animation: shine-progress 2s ease-in-out infinite;
        }

        @keyframes shine-progress {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }

        /* Ï≤¥ÌÅ¨Ìè¨Ïù∏Ìä∏ */
        .checkpoint {
            position: relative;
            z-index: 2;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .checkpoint-icon {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 900;
            border: 4px solid;
            background: #1e1b4b;
            transition: all 0.3s ease;
        }

        .checkpoint.completed .checkpoint-icon {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            border-color: #34d399;
            color: white;
            box-shadow: 0 4px 20px rgba(16, 185, 129, 0.6);
        }

        .checkpoint.current .checkpoint-icon {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            border-color: #fcd34d;
            animation: pulse-current 2s ease-in-out infinite;
            box-shadow: 0 4px 30px rgba(251, 191, 36, 0.8);
        }

        @keyframes pulse-current {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 4px 30px rgba(251, 191, 36, 0.8);
            }
            50% {
                transform: scale(1.1);
                box-shadow: 0 4px 40px rgba(251, 191, 36, 1);
            }
        }

        .current-player {
            font-size: 28px;
            animation: wave-player 1.5s ease-in-out infinite;
        }

        @keyframes wave-player {
            0%, 100% { transform: rotate(-10deg); }
            50% { transform: rotate(10deg); }
        }

        .checkpoint.locked .checkpoint-icon {
            background: rgba(71, 85, 105, 0.5);
            border-color: #64748b;
            color: #94a3b8;
        }

        .checkpoint-label {
            font-size: 13px;
            font-weight: 700;
            color: #cbd5e1;
            background: rgba(0, 0, 0, 0.4);
            padding: 6px 12px;
            border-radius: 8px;
        }

        .current-label {
            color: #fbbf24;
            background: rgba(251, 191, 36, 0.2);
            border: 1px solid rgba(251, 191, 36, 0.5);
        }

        .checkpoint-reward {
            font-size: 18px;
            position: absolute;
            top: -8px;
            right: -8px;
            animation: bounce-reward 2s ease-in-out infinite;
        }

        .checkpoint.locked .checkpoint-reward {
            opacity: 0.3;
        }

        @keyframes bounce-reward {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .checkpoint-status {
            font-size: 11px;
            font-weight: 600;
            color: #fbbf24;
            background: rgba(251, 191, 36, 0.2);
            padding: 4px 10px;
            border-radius: 6px;
            margin-top: 4px;
        }

        /* ÏßÑÌñâÎ•† ÏÑπÏÖò */
        .game-progress-section {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(124, 58, 237, 0.5);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 24px;
            position: relative;
            z-index: 2;
        }

        .progress-info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .progress-label {
            font-size: 15px;
            font-weight: 700;
            color: #e0e7ff;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .progress-xp {
            font-size: 16px;
            font-weight: 700;
            color: #fbbf24;
        }

        .progress-xp strong {
            font-size: 20px;
        }

        .game-progress-bar {
            height: 36px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 18px;
            overflow: hidden;
            border: 2px solid rgba(124, 58, 237, 0.4);
            margin-bottom: 12px;
        }

        .game-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #7c3aed 0%, #a78bfa 50%, #7c3aed 100%);
            background-size: 200% 100%;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 16px;
            position: relative;
            animation: progress-shimmer 3s ease-in-out infinite;
            box-shadow: 0 4px 20px rgba(124, 58, 237, 0.6);
            transition: width 0.5s ease;
        }

        @keyframes progress-shimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .progress-shine {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg,
                transparent 0%,
                rgba(255, 255, 255, 0.3) 50%,
                transparent 100%);
            animation: slide-shine 2s ease-in-out infinite;
        }

        @keyframes slide-shine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .progress-percent {
            font-size: 16px;
            font-weight: 900;
            color: white;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
            position: relative;
            z-index: 2;
        }

        .progress-remaining {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 14px;
        }

        .remaining-text {
            color: #e0e7ff;
            font-weight: 600;
        }

        .remaining-time {
            color: #a78bfa;
            font-weight: 700;
            background: rgba(124, 58, 237, 0.2);
            padding: 6px 12px;
            border-radius: 8px;
        }

        /* Î≥¥ÏÉÅ ÏÉÅÏûê */
        .game-reward-box {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.2) 0%, rgba(245, 158, 11, 0.2) 100%);
            border: 3px solid rgba(251, 191, 36, 0.5);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 24px;
            position: relative;
            z-index: 2;
            transition: all 0.3s ease;
        }

        .game-reward-box:hover {
            transform: translateY(-2px);
            border-color: #fbbf24;
            box-shadow: 0 8px 30px rgba(251, 191, 36, 0.4);
        }

        .reward-box-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }

        .reward-box-icon {
            font-size: 32px;
            animation: shake-gift 3s ease-in-out infinite;
        }

        @keyframes shake-gift {
            0%, 100% { transform: rotate(0deg); }
            10%, 30%, 50%, 70%, 90% { transform: rotate(-5deg); }
            20%, 40%, 60%, 80% { transform: rotate(5deg); }
        }

        .reward-box-title {
            font-size: 18px;
            font-weight: 800;
            color: #fbbf24;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
        }

        .reward-items-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
        }

        .reward-item-card {
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(251, 191, 36, 0.3);
            border-radius: 16px;
            padding: 20px 12px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .reward-item-card:hover {
            transform: translateY(-4px) scale(1.05);
            border-color: #fbbf24;
            background: rgba(251, 191, 36, 0.1);
            box-shadow: 0 8px 20px rgba(251, 191, 36, 0.3);
        }

        .reward-card-icon {
            font-size: 40px;
            margin-bottom: 12px;
            filter: drop-shadow(0 4px 12px rgba(251, 191, 36, 0.5));
        }

        .reward-card-name {
            font-size: 13px;
            font-weight: 700;
            color: #e0e7ff;
        }

        /* ÌÄòÏä§Ìä∏ Ìë∏ÌÑ∞ */
        .game-quest-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 16px;
            padding-top: 20px;
            border-top: 2px solid rgba(124, 58, 237, 0.3);
            position: relative;
            z-index: 2;
        }

        .quest-duration {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
            font-weight: 600;
            color: #c4b5fd;
        }

        .quest-duration i {
            color: #a78bfa;
            font-size: 18px;
        }

        .quest-boost-btn {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 800;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 16px rgba(245, 158, 11, 0.4);
        }

        .quest-boost-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 24px rgba(245, 158, 11, 0.6);
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
        }

        .quest-boost-btn i {
            font-size: 16px;
            animation: rocket-boost 2s ease-in-out infinite;
        }

        @keyframes rocket-boost {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-4px); }
        }

        .krs-goal-period i {
            font-size: 18px;
            color: #f59e0b;
        }

        /* === B ÏòÅÏó≠: Ï£ºÍ∞Ñ ÎØ∏ÏÖò === */
        .krs-weekly-section {
            margin-bottom: 32px;
        }

        .krs-mission-list {
            background: white;
            border-radius: 16px;
            padding: 16px;
            border: 2px solid #e5e7eb;
            box-shadow: 0 4px 16px rgba(0,0,0,0.06);
        }

        .krs-mission-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px;
            border-radius: 12px;
            border: 2px solid #e5e7eb;
            background: #fafafa;
            margin-bottom: 12px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .krs-mission-item:last-child {
            margin-bottom: 0;
        }

        .krs-mission-item:hover {
            background: #f3f4f6;
            border-color: #d1d5db;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.08);
        }


        .krs-mission-icon {
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            border-radius: 12px;
            flex-shrink: 0;
        }

        .krs-mission-icon.blue {
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            border: 2px solid #3b82f6;
        }

        .krs-mission-icon.green {
            background: linear-gradient(135deg, #d1fae5, #a7f3d0);
            border: 2px solid #10b981;
        }

        .krs-mission-icon.yellow {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border: 2px solid #fbbf24;
        }

        .krs-mission-icon.purple {
            background: linear-gradient(135deg, #e9d5ff, #d8b4fe);
            border: 2px solid #a855f7;
        }

        .krs-mission-info {
            flex: 1;
            min-width: 0;
        }

        .krs-mission-label {
            font-size: 12px;
            font-weight: 700;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 4px;
        }

        .krs-mission-text {
            font-size: 15px;
            font-weight: 600;
            color: #1f2937;
        }

        .krs-mission-xp {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 10px 16px;
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            border-radius: 12px;
            font-weight: 800;
            color: white;
            box-shadow: 0 4px 12px rgba(251,191,36,0.3);
            flex-shrink: 0;
        }

        .krs-mission-xp-icon {
            font-size: 16px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .krs-mission-xp-icon svg {
            width: 16px;
            height: 16px;
        }

        .krs-mission-xp-value {
            font-size: 15px;
        }

        .krs-weekly-note {
            margin-top: 16px;
            padding: 14px 18px;
            background: linear-gradient(135deg, #eff6ff, #dbeafe);
            border-radius: 12px;
            border: 2px solid #3b82f6;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
            font-weight: 600;
            color: #1e40af;
        }

        .krs-weekly-note i {
            font-size: 16px;
            color: #3b82f6;
        }

        /* Î™®Î∞îÏùº Î∞òÏùëÌòï */
        @media (max-width: 768px) {
            .krs-quest-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
            }

            .krs-quest-header-unified {
                padding: 16px;
            }

            .krs-quest-header-top {
                flex-direction: column;
                align-items: flex-start;
                gap: 12px;
            }

            .krs-quest-badge-icon {
                font-size: 36px;
            }

            .krs-quest-title {
                font-size: 18px;
            }

            .krs-quest-title-text h3 {
                font-size: 18px;
            }

            .krs-quest-title-text p {
                font-size: 13px;
            }

            .krs-quest-level-tag {
                font-size: 13px;
                padding: 6px 12px;
            }

            .krs-quest-reward-inline {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }

            .krs-quest-reward-badges {
                flex-wrap: wrap;
            }

            .krs-reward-badge {
                font-size: 13px;
                padding: 6px 12px;
            }

            .krs-quest-mission-grid {
                grid-template-columns: 1fr;
            }

            .krs-quest-reward-items {
                flex-direction: column;
                gap: 12px;
            }

            .krs-quest-reward-divider {
                transform: rotate(90deg);
            }

            /* A ÏòÅÏó≠ Î™®Î∞îÏùº */
            .today-challenge-section {
                padding: 0 16px;
            }

            .krs-goal-card {
                padding: 28px;
            }

            .krs-goal-header {
                flex-direction: column;
                align-items: center;
                text-align: center;
                gap: 20px;
            }

            .krs-goal-badge-large {
                font-size: 72px;
            }

            .krs-goal-title {
                font-size: 18px;
            }

            .krs-goal-subtitle {
                font-size: 14px;
            }

            .krs-goal-level-tag {
                font-size: 13px;
                padding: 6px 12px;
            }

            .krs-goal-progress {
                padding: 16px;
            }

            .krs-goal-progress-label {
                font-size: 14px;
            }

            .krs-goal-progress-xp {
                font-size: 16px;
            }

            .krs-goal-progress-bar {
                height: 14px;
            }

            .krs-goal-progress-percent {
                font-size: 11px;
            }

            .krs-goal-progress-remaining {
                font-size: 13px;
            }

            .krs-goal-reward {
                flex-direction: column;
                align-items: center;
                gap: 10px;
                padding: 14px 16px;
            }

            .krs-goal-reward-label {
                font-size: 13px;
            }

            .krs-goal-reward-items {
                width: 100%;
                justify-content: center;
            }

            .krs-goal-reward-item {
                font-size: 13px;
                padding: 5px 12px;
            }

            .krs-goal-period {
                font-size: 12px;
                padding: 10px 14px;
            }

            /* ÌÜ†Ïä§ Ïä§ÌÉÄÏùº Ïπ¥Îìú Î™®Î∞îÏùº */
            .toss-hero-section {
                padding: 16px 16px;
                gap: 10px;
            }

            .toss-character-bg {
                width: 80px;
                height: 80px;
            }

            .toss-character {
                font-size: 42px;
            }

            .toss-badge-floating {
                font-size: 22px;
                top: -4px;
                right: -4px;
            }

            .cloud {
                font-size: 12px;
            }

            .toss-goal-title h3 {
                font-size: 15px;
            }

            .toss-goal-title p {
                font-size: 12px;
            }

            .toss-progress-card {
                padding: 14px 16px;
            }

            .toss-level-badge {
                font-size: 11px;
                padding: 5px 10px;
            }

            .toss-xp-text {
                font-size: 13px;
            }

            .xp-current {
                font-size: 16px;
            }

            .toss-progress-bar {
                height: 10px;
            }

            .toss-progress-sparkle {
                font-size: 8px;
            }

            .toss-progress-label {
                font-size: 10px;
            }

            .toss-remaining-badge {
                padding: 7px 12px;
            }

            .toss-remaining-badge .badge-icon {
                font-size: 13px;
            }

            .toss-remaining-badge .badge-text {
                font-size: 11px;
            }

            .toss-milestones {
                padding: 14px 16px;
            }

            .toss-milestone-title {
                font-size: 13px;
                margin-bottom: 10px;
            }

            .toss-milestone-grid {
                gap: 7px;
            }

            .toss-milestone-item {
                padding: 10px;
                gap: 10px;
            }

            .milestone-icon {
                width: 32px;
                height: 32px;
                font-size: 14px;
            }

            .milestone-name {
                font-size: 12px;
            }

            .milestone-xp {
                font-size: 10px;
            }

            .milestone-reward {
                font-size: 18px;
            }

            .toss-reward-preview {
                padding: 14px 16px;
            }

            .reward-emoji {
                font-size: 18px;
            }

            .reward-title {
                font-size: 12px;
            }

            .toss-reward-items {
                gap: 6px;
            }

            .toss-reward-chip {
                padding: 6px 10px;
                flex: 1 1 auto;
            }

            .chip-icon {
                font-size: 14px;
            }

            .chip-text {
                font-size: 11px;
            }

            .toss-footer {
                padding: 14px 16px;
                gap: 10px;
            }

            .toss-info-text {
                font-size: 10px;
            }

            .toss-info-text i {
                font-size: 12px;
            }

            .toss-cta-btn {
                padding: 11px 16px;
                font-size: 12px;
            }

            /* Ïª¥Ìå©Ìä∏ Ïä§ÌÉÄÏùº Ïπ¥Îìú Î™®Î∞îÏùº */
            .toss-goal-card-compact {
                padding: 16px;
            }

            .compact-main {
                flex-direction: column;
                align-items: center;
                text-align: center;
                gap: 12px;
                margin-bottom: 14px;
                padding-bottom: 14px;
            }

            .compact-badge {
                font-size: 43px;
                width: 86px;
                height: 86px;
            }

            .compact-reward-badge {
                gap: 8px;
            }

            .reward-badge-icon {
                font-size: 46px;
                width: 94px;
                height: 94px;
                border-width: 3px;
            }

            .reward-badge-icon::before {
                font-size: 20px;
                top: -6px;
                right: -6px;
            }

            .reward-badge-label {
                font-size: 13px;
                padding: 5px 14px;
            }

            .compact-info {
                width: 100%;
            }

            .compact-title {
                font-size: 15px;
            }

            .compact-level {
                font-size: 12px;
                margin-bottom: 8px;
            }

            /* 24Ï£ºÏ∞® ÏßÑÌñâ Ïπ∏ Î™®Î∞îÏùº */
            .week-progress-grid {
                gap: 2px;
            }

            .week-box {
                height: 8px;
            }

            .week-tooltip {
                font-size: 8px;
                padding: 3px 6px;
                margin-bottom: 4px;
            }

            .week-tooltip::after {
                border: 3px solid transparent;
                border-top-color: #ef4444;
            }

            .week-progress-info {
                font-size: 9px;
            }

            .compact-xp {
                font-size: 11px;
                justify-content: center;
            }

            .compact-xp .xp-current {
                font-size: 14px;
            }

            .compact-missing-section {
                margin-bottom: 14px;
                padding: 14px;
            }

            .missing-icon {
                font-size: 14px;
            }

            .missing-title {
                font-size: 12px;
            }

            .missing-list {
                gap: 7px;
            }

            .missing-item {
                padding: 8px 10px;
                gap: 6px;
            }

            .missing-week {
                font-size: 10px;
                padding: 3px 6px;
            }

            .missing-text {
                font-size: 11px;
            }

            .compact-rewards {
                margin-bottom: 12px;
                padding-bottom: 12px;
            }

            .compact-reward-title {
                font-size: 11px;
                text-align: center;
            }

            .compact-reward-list {
                justify-content: center;
                gap: 6px;
            }

            .compact-reward-item {
                font-size: 11px;
                padding: 5px 10px;
            }

            .compact-footer {
                font-size: 10px;
            }

            .compact-footer i {
                font-size: 12px;
            }

            /* KRS Î°úÎìúÎßµ Î™®Î∞îÏùº */
            .krs-roadmap {
                padding: 28px 12px;
                gap: 0;
            }

            .roadmap-current-badge {
                font-size: 11px;
                padding: 5px 12px;
                top: 6px;
                border-radius: 12px;
            }

            .roadmap-current-badge::after {
                border-left: 6px solid transparent;
                border-right: 6px solid transparent;
                border-top: 6px solid #f97316;
                bottom: -5px;
            }

            .roadmap-icon-wrapper {
                width: 44px;
                height: 44px;
                border-width: 2px;
            }

            .roadmap-step.active .roadmap-icon-wrapper {
                border-width: 2px;
            }

            .roadmap-icon {
                font-size: 20px;
            }

            .roadmap-score {
                font-size: 11px;
            }

            .roadmap-label {
                font-size: 10px;
            }

            .roadmap-badge {
                font-size: 8px;
                padding: 2px 5px;
            }

            .roadmap-line-container {
                height: 10px;
                margin-bottom: 52px;
                border-radius: 5px;
            }

            /* Î†àÎ≤®ÏóÖ Ï†ïÎ≥¥ Î≤ÑÌäº Î™®Î∞îÏùº */
            .levelup-info-btn {
                font-size: 12px;
                padding: 7px 12px;
                gap: 5px;
            }

            .levelup-info-btn i {
                font-size: 14px;
            }

            /* Î†àÎ≤®ÏóÖ Ï†ïÎ≥¥ Î™®Îã¨ Î™®Î∞îÏùº */
            .levelup-modal-content {
                width: 95%;
                max-height: 90vh;
            }

            .levelup-modal-header {
                padding: 16px 20px;
            }

            .levelup-modal-header h3 {
                font-size: 16px;
            }

            .levelup-modal-close {
                font-size: 20px;
                width: 28px;
                height: 28px;
            }

            .levelup-modal-body {
                padding: 20px;
                max-height: calc(90vh - 60px);
            }

            .levelup-section-title {
                font-size: 14px;
            }

            .tier-row {
                padding: 10px;
                gap: 10px;
            }

            .tier-icon {
                font-size: 24px;
                width: 36px;
            }

            .tier-name {
                font-size: 14px;
            }

            .tier-score {
                font-size: 14px;
            }

            .levelup-points-toggle {
                font-size: 14px;
                padding: 12px 14px;
            }

            .levelup-points-detail {
                padding: 16px;
            }

            .points-week-title {
                font-size: 13px;
                padding: 5px 10px;
            }

            .points-item {
                padding: 8px 10px;
            }

            .points-activity {
                font-size: 13px;
            }

            .points-value {
                font-size: 13px;
            }

            .points-summary {
                padding: 14px;
            }

            .summary-item {
                font-size: 12px;
            }

            .points-notice {
                font-size: 11px;
                padding: 10px;
            }

            .roadmap-label {
                font-size: 9px;
            }

            .roadmap-arrow {
                font-size: 10px;
                margin: 0 6px;
            }

            .roadmap-score {
                font-size: 8px;
                margin-bottom: 3px;
            }

            .roadmap-badge {
                font-size: 7px;
                padding: 2px 5px;
                border-radius: 5px;
                margin-top: 4px;
            }

            /* B ÏòÅÏó≠ Î™®Î∞îÏùº */
            .krs-mission-list {
                padding: 12px;
            }

            .krs-mission-item {
                flex-wrap: wrap;
                gap: 12px;
                padding: 14px;
            }


            .krs-mission-icon {
                width: 40px;
                height: 40px;
                font-size: 20px;
            }

            .krs-mission-info {
                flex: 1;
                min-width: 120px;
            }

            .krs-mission-label {
                font-size: 11px;
            }

            .krs-mission-text {
                font-size: 14px;
            }

            .krs-mission-xp {
                padding: 8px 12px;
            }

            .krs-mission-xp-icon {
                font-size: 14px;
            }

            .krs-mission-xp-value {
                font-size: 13px;
            }

            .krs-weekly-note {
                font-size: 13px;
                padding: 12px 16px;
            }
        }

        /* === ÌåÄ ÎèÑÏ†Ñ Ïä§ÌÉÄÏùº === */
        .tc-group {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 20px;
            margin-bottom: 24px;
        }
        @media (max-width: 900px) {
            .tc-group { grid-template-columns: 1fr; }
        }

        /* ÌåÄ ÎØ∏ÏÖò Ïπ¥Îìú */
        .tc-mission-card {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            border-radius: 20px;
            padding: 28px 24px;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }
        .tc-mission-card::before {
            content: '';
            position: absolute;
            top: -30px; right: -30px;
            width: 100px; height: 100px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
        }
        .tc-mission-badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 16px;
        }
        .tc-mission-icon {
            font-size: 48px;
            margin-bottom: 12px;
        }
        .tc-mission-title {
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 20px;
            font-weight: 700;
            line-height: 1.4;
            margin-bottom: 16px;
        }
        .tc-mission-reward {
            background: rgba(255,255,255,0.15);
            padding: 10px 16px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
        }

        /* Ïö∞Î¶¨ÌåÄ ÏòÅÏó≠ */
        .tc-team-right {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        .tc-team-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }
        .tc-team-header-title {
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 15px;
            color: #374151;
        }
        .tc-team-header-title strong {
            color: #8b5cf6;
            font-weight: 700;
        }
        .tc-team-dday {
            background: #fef3c7;
            color: #d97706;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 700;
        }

        /* ÎåÄÌëú ÌåÄÏõê Ïπ¥Îìú */
        .tc-featured-card {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            border: 2px solid #fcd34d;
        }
        .tc-rank-badge {
            display: inline-block;
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 700;
            margin-bottom: 12px;
        }
        .tc-featured-avatar {
            width: 60px; height: 60px;
            margin: 0 auto 8px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .tc-featured-name {
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 16px;
            font-weight: 700;
            color: #374151;
            margin-bottom: 2px;
        }
        .tc-featured-info {
            font-size: 12px;
            color: #9ca3af;
            margin-bottom: 8px;
        }
        .tc-featured-quote {
            font-size: 13px;
            color: #6b7280;
            font-style: italic;
            margin-bottom: 12px;
            line-height: 1.5;
        }
        .tc-featured-result {
            margin-bottom: 8px;
        }
        .tc-result-success {
            display: inline-block;
            background: #10b981;
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
        }
        .tc-featured-reward {
            font-size: 13px;
            color: #d97706;
            font-weight: 600;
        }

        /* ÌåÄÏõê Í∑∏Î¶¨Îìú */
        .tc-members-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }
        @media (max-width: 600px) {
            .tc-members-grid { grid-template-columns: 1fr; }
        }
        .tc-member-card {
            background: white;
            border-radius: 14px;
            padding: 14px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }
        .tc-member-top {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 10px;
        }
        .tc-member-avatar {
            width: 40px; height: 40px;
            background: #f3f4f6;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }
        .tc-member-name {
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 14px;
            font-weight: 600;
            color: #374151;
        }
        .tc-member-info {
            font-size: 11px;
            color: #9ca3af;
        }
        .tc-member-status {
            display: flex;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
        }
        .tc-status-progress {
            font-size: 12px;
            color: #3b82f6;
            font-weight: 600;
        }
        .tc-status-fail {
            font-size: 12px;
            color: #ef4444;
            font-weight: 600;
        }
        .tc-status-ready {
            font-size: 12px;
            color: #9ca3af;
            font-weight: 600;
        }
        .tc-progress-bar {
            flex: 1;
            height: 6px;
            background: #e5e7eb;
            border-radius: 3px;
            overflow: hidden;
        }
        .tc-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #60a5fa);
            border-radius: 3px;
        }
        .tc-progress-text {
            font-size: 12px;
            color: #3b82f6;
            font-weight: 700;
        }
        .tc-help-btn {
            background: #fef3c7;
            color: #d97706;
            border: none;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            cursor: pointer;
        }
        .tc-help-btn:hover {
            background: #fde68a;
        }

        /* ÎÇòÎèÑ ÌïúÎßàÎîî - ÌïòÎã® ÌùòÎü¨Í∞ÄÎäî ÏòÅÏó≠ */
        .tc-comment-section {
            background: linear-gradient(180deg, rgba(249,250,251,0) 0%, #f3f4f6 20%);
            border-radius: 0;
            padding: 24px 0 20px;
            margin-top: 32px;
            margin-bottom: -24px;
            margin-left: -24px;
            margin-right: -24px;
            position: relative;
            border-top: 1px solid #e5e7eb;
            box-sizing: border-box;
        }
        .tc-comment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 24px;
            margin-bottom: 16px;
            box-sizing: border-box;
        }
        .tc-comment-title {
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 16px;
            font-weight: 700;
            color: #9ca3af;
            text-align: left;
            margin: 0;
        }
        .tc-marquee-wrap {
            overflow: hidden;
            padding: 12px 0;
            margin: 0;
        }
        .tc-marquee-track {
            display: flex;
            gap: 18px;
            width: max-content;
            animation: tcMarquee 60s linear infinite;
            padding: 16px 0;
            padding-left: 24px;
        }
        .tc-marquee-wrap:hover .tc-marquee-track {
            animation-play-state: paused;
        }
        @keyframes tcMarquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }
        .tc-comment-card {
            flex-shrink: 0;
            width: 192px;
            background: white;
            border-radius: 16px;
            padding: 18px;
            border: 1px solid #e5e7eb;
            box-shadow: 0 3px 12px rgba(0,0,0,0.06);
        }
        .tc-float-1 { animation: tcFloat1 3.2s ease-in-out infinite; }
        .tc-float-2 { animation: tcFloat2 4.0s ease-in-out infinite; }
        .tc-float-3 { animation: tcFloat3 3.6s ease-in-out infinite; }
        @keyframes tcFloat1 {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }
        @keyframes tcFloat2 {
            0%, 100% { transform: translateY(0); }
            35% { transform: translateY(-6px); }
            70% { transform: translateY(3px); }
        }
        @keyframes tcFloat3 {
            0%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            75% { transform: translateY(2px); }
        }
        .tc-comment-name {
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 15px;
            font-weight: 800;
            color: #1a1a2e;
            margin-bottom: 2px;
        }
        .tc-comment-info {
            font-size: 11px;
            color: #9ca3af;
            margin-bottom: 10px;
        }
        .tc-comment-text {
            font-size: 15px;
            color: #4B5563;
            font-weight: 600;
            margin-bottom: 12px;
            line-height: 1.5;
        }
        .tc-comment-team {
            display: inline-block;
            color: white;
            padding: 5px 12px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 700;
        }
        .tc-write-btn {
            height: 36px;
            padding: 0 18px;
            background: white;
            border: 1.5px solid #d1d5db;
            border-radius: 18px;
            font-size: 14px;
            font-weight: 600;
            color: #6b7280;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            transition: all 0.2s;
            flex-shrink: 0;
        }
        .tc-write-btn:hover {
            background: #f9fafb;
            border-color: #9ca3af;
            color: #374151;
            transform: translateY(-1px);
        }

        /* Îã§Ïùå Ï£º ÎØ∏ÏÖò Í≥†Î•¥Í∏∞ */
        .tc-next-section {
            margin-top: 20px;
        }
        .tc-next-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 14px;
            flex-wrap: wrap;
            gap: 10px;
        }
        .tc-next-header-left {
            flex: 1;
        }
        .tc-next-title {
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 17px;
            font-weight: 800;
            color: #1a1a2e;
            margin-bottom: 4px;
        }
        .tc-next-notice {
            font-size: 11px;
            color: #9ca3af;
        }
        .tc-refresh-btn {
            display: flex;
            align-items: center;
            gap: 6px;
            background: linear-gradient(135deg, #FEF3C7, #FDE68A);
            border: 2px solid #F59E0B;
            color: #D97706;
            padding: 8px 14px;
            border-radius: 12px;
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 12px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
        }
        .tc-refresh-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(245,158,11,0.3);
        }
        .tc-refresh-btn i {
            transition: transform 0.3s;
        }
        .tc-refresh-btn:active i {
            transform: rotate(180deg);
        }
        .tc-next-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }
        /* Î∞òÏùëÌòï: 2x2 */
        @media (max-width: 900px) {
            .tc-next-grid { grid-template-columns: repeat(2, 1fr); }
        }
        /* Î∞òÏùëÌòï: 1x1 */
        @media (max-width: 480px) {
            .tc-next-grid { grid-template-columns: 1fr; }
        }
        .tc-next-card {
            background: white;
            border: 1.5px solid #e5e7eb;
            border-radius: 16px;
            padding: 18px 14px;
            text-align: center;
            transition: all 0.2s;
        }
        .tc-next-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        .tc-next-card.selected-card {
            border: 2px solid #10B981;
            background: linear-gradient(135deg, #ECFDF5, #D1FAE5);
        }
        .tc-next-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }
        .tc-next-card-title {
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 13px;
            font-weight: 700;
            color: #1a1a2e;
            margin-bottom: 8px;
            line-height: 1.4;
            min-height: 36px;
        }
        .tc-next-ai {
            display: inline-block;
            background: #EDE9FE;
            color: #7C3AED;
            padding: 3px 10px;
            border-radius: 10px;
            font-size: 10px;
            font-weight: 700;
            margin-bottom: 8px;
        }
        .tc-next-meta {
            display: flex;
            justify-content: center;
            gap: 12px;
            font-size: 11px;
            color: #6b7280;
            margin-bottom: 12px;
        }
        .tc-next-btn {
            width: 100%;
            background: linear-gradient(135deg, #8B5CF6, #7C3AED);
            color: white;
            border: none;
            padding: 9px 0;
            border-radius: 12px;
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 13px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
        }
        .tc-next-btn:hover { opacity: 0.9; transform: translateY(-1px); }
        .tc-next-btn.selected {
            background: linear-gradient(135deg, #10B981, #059669);
        }

        /* Îã§Ïùå Ï£º ÎØ∏ÏÖò ÎØ∏Î¶¨Î≥¥Í∏∞ (ÌåÄ ÎØ∏ÏÖò Ïπ¥Îìú ÎÇ¥) */
        .tc-next-preview {
            margin-top: 16px;
            padding-top: 14px;
            border-top: 1px dashed rgba(255,255,255,0.3);
        }
        .tc-next-preview-label {
            font-size: 11px;
            opacity: 0.8;
            margin-bottom: 6px;
        }
        .tc-next-preview-content {
            font-size: 13px;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }
        .tc-next-preview-empty {
            font-size: 12px;
            opacity: 0.7;
            padding: 8px 12px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
        }

        @media (max-width: 768px) {
            .tc-comment-card {
                width: 168px;
                padding: 16px;
            }
            .tc-comment-name { font-size: 14px; }
            .tc-comment-text { font-size: 14px; }
            .tc-marquee-track { gap: 14px; }
        }

        /* ÎÇ¥ Î©îÏãúÏßÄ Ïä§ÌÉÄÏùº (ÌäπÎ≥Ñ) */
        .tc-comment-card.my-message {
            background: linear-gradient(135deg, #FEF3C7, #FDE68A);
            border: 2px solid #F59E0B;
            box-shadow: 0 6px 16px rgba(245, 158, 11, 0.35);
            position: relative;
        }
        .tc-comment-card.my-message::before {
            content: '‚ú® ÎÇò';
            position: absolute;
            top: -10px;
            right: 10px;
            background: linear-gradient(135deg, #F59E0B, #D97706);
            color: white;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 700;
        }
        .tc-comment-card.my-message .tc-comment-name {
            color: #D97706;
        }

        /* ÌïúÎßàÎîî ÏûëÏÑ± ÌåùÏóÖ */
        .comment-modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.5);
            backdrop-filter: blur(4px);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }
        .comment-modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        .comment-modal {
            background: white;
            border-radius: 24px;
            padding: 24px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            transform: translateY(20px) scale(0.95);
            transition: all 0.3s;
        }
        .comment-modal-overlay.active .comment-modal {
            transform: translateY(0) scale(1);
        }
        .comment-modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        .comment-modal-title {
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 18px;
            font-weight: 800;
            color: #1a1a2e;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .comment-modal-close {
            width: 32px;
            height: 32px;
            border: none;
            background: #f3f4f6;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6b7280;
            font-size: 14px;
        }
        .comment-textarea {
            width: 100%;
            height: 100px;
            border: 2px solid #e5e7eb;
            border-radius: 16px;
            padding: 16px;
            font-size: 15px;
            font-family: 'Noto Sans KR', sans-serif;
            resize: none;
            margin-bottom: 16px;
            transition: all 0.2s;
        }
        .comment-textarea:focus {
            outline: none;
            border-color: #7C3AED;
            box-shadow: 0 0 0 3px rgba(124,58,237,0.1);
        }
        .comment-char-count {
            text-align: right;
            font-size: 12px;
            color: #9ca3af;
            margin-bottom: 16px;
        }
        .comment-submit-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #7C3AED, #8B5CF6);
            color: white;
            border: none;
            border-radius: 14px;
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
        }
        .comment-submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(124,58,237,0.4);
        }
        .comment-submit-btn:disabled {
            background: #d1d5db;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* ÏπúÍµ¨ ÎèÑÏôÄÏ£ºÍ∏∞ ÌåùÏóÖ */
        .help-modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.5);
            backdrop-filter: blur(4px);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }
        .help-modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        .help-modal {
            background: white;
            border-radius: 24px;
            padding: 28px;
            width: 90%;
            max-width: 380px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            transform: translateY(20px) scale(0.95);
            transition: all 0.3s;
        }
        .help-modal-overlay.active .help-modal {
            transform: translateY(0) scale(1);
        }
        .help-modal-icon {
            font-size: 48px;
            margin-bottom: 16px;
        }
        .help-modal-title {
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 20px;
            font-weight: 800;
            color: #1a1a2e;
            margin-bottom: 12px;
        }
        .help-modal-desc {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 20px;
            line-height: 1.6;
        }
        .help-modal-friend {
            background: #f3f4f6;
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .help-modal-avatar {
            width: 48px;
            height: 48px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
        .help-modal-friend-info {
            text-align: left;
        }
        .help-modal-friend-name {
            font-weight: 700;
            color: #1a1a2e;
            font-size: 15px;
        }
        .help-modal-friend-status {
            font-size: 12px;
            color: #ef4444;
        }
        .help-modal-cost {
            background: linear-gradient(135deg, #FEF3C7, #FDE68A);
            border: 2px solid #F59E0B;
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 20px;
        }
        .help-modal-cost-label {
            font-size: 12px;
            color: #92400E;
            margin-bottom: 4px;
        }
        .help-modal-cost-value {
            font-size: 24px;
            font-weight: 800;
            color: #D97706;
        }
        .help-modal-btns {
            display: flex;
            gap: 12px;
        }
        .help-modal-cancel {
            flex: 1;
            padding: 14px;
            background: #f3f4f6;
            color: #6b7280;
            border: none;
            border-radius: 14px;
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
        }
        .help-modal-confirm {
            flex: 1;
            padding: 14px;
            background: linear-gradient(135deg, #10B981, #059669);
            color: white;
            border: none;
            border-radius: 14px;
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
        }
        .help-modal-confirm:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(16,185,129,0.4);
        }

        /* ÏÑ±Í≥µ ÏÉÅÌÉúÎ°ú Î≥ÄÍ≤ΩÎêú Ïπ¥Îìú */
        .tc-member-card.helped .tc-status-fail {
            display: none;
        }
        .tc-member-card.helped .tc-help-btn {
            display: none;
        }
        .tc-member-card.helped .tc-status-helped {
            display: inline-block;
            font-size: 12px;
            color: #10b981;
            font-weight: 600;
        }
        .tc-status-helped {
            display: none;
        }

        /* ÌÜ†Ïä§Ìä∏ Ïï†ÎãàÎ©îÏù¥ÏÖò */
        @keyframes toastIn {
            from { opacity: 0; transform: translateX(-50%) translateY(20px); }
            to { opacity: 1; transform: translateX(-50%) translateY(0); }
        }
        @keyframes toastOut {
            from { opacity: 1; transform: translateX(-50%) translateY(0); }
            to { opacity: 0; transform: translateX(-50%) translateY(20px); }
        }
    </style>
</head>
<body class="bg-white font-sans text-gray-800 h-screen overflow-hidden">
    <!-- Î™®Î∞îÏùº ÌñÑÎ≤ÑÍ±∞ Î≤ÑÌäº -->
    <button class="sidebar-toggle" id="sidebar-toggle-btn" onclick="toggleSidebar()">
        <i class="fa-solid fa-bars text-gray-600 text-lg"></i>
    </button>

    <!-- ÏÇ¨Ïù¥ÎìúÎ∞î Ïò§Î≤ÑÎ†àÏù¥ -->
    <div class="sidebar-overlay" id="sidebar-overlay" onclick="closeSidebar()"></div>

    <div class="flex w-full h-full">
        <!-- Sidebar Container -->
        <div id="sidebar-container"></div>

        <!-- Main Content -->
        <main class="flex-1 h-full overflow-y-auto bg-gradient-to-b from-gray-50 to-white">
            <!-- ÌéòÏù¥ÏßÄ Ìó§Îçî -->
            <div class="page-header">
                <div class="flex items-center gap-16px">
                    <div class="challenge-avatar">
                        üèÜ
                    </div>
                    <div style="margin-left:12px;">
                        <div class="page-header-title">
                            Ïò§ÎäòÏùò ÎèÑÏ†Ñ
                        </div>
                        <div class="page-header-desc">
                            Îß§Ïùº ÎèÑÏ†ÑÌïòÍ≥† ÏπúÍµ¨Îì§Í≥º Ìï®Íªò ÏÑ±Ïû•Ìï¥Ïöî
                        </div>
                    </div>
                </div>
            </div>

            <!-- ÎèÑÏ†Ñ ÌÉ≠ -->
            <div class="challenge-tabs">
                <button class="challenge-tab active" data-ctab="today" onclick="switchChallengeTab('today')">
                    <i class="fa-solid fa-fire"></i>
                    Ïò§ÎäòÏùò ÎèÑÏ†Ñ
                </button>
                <button class="challenge-tab" data-ctab="team" onclick="switchChallengeTab('team')">
                    <i class="fa-solid fa-users"></i>
                    ÌåÄ ÎèÑÏ†Ñ
                </button>
            </div>

            <!-- ÏΩòÌÖêÏ∏† ÏòÅÏó≠ -->
            <div class="challenge-container">
                <!-- Ïò§ÎäòÏùò ÎèÑÏ†Ñ -->
                <div id="ctab-today" class="challenge-content">
                    <div class="today-challenge-section">
                        <!-- ÎèÑÏ†Ñ Î¶¨Ïä§Ìä∏ -->
                        <div class="challenge-list">
                        </div>

                        <!-- B ÏòÅÏó≠: Ï£ºÍ∞Ñ ÎØ∏ÏÖò -->
                        <div class="krs-weekly-section" style="margin-top: 8px;">
                            <!-- ÏÑπÏÖò ÌÉÄÏù¥ÌãÄ -->
                            <div class="section-title-bar" style="margin-bottom: 16px;">
                                <div class="section-title-main">
                                    <span class="section-title-icon">‚ö°</span>
                                    <span class="section-title-text">Ïò§ÎäòÏùò ÎèÑÏ†Ñ</span>
                                </div>
                                <span class="section-title-count">0/4 ÏôÑÎ£å</span>
                            </div>

                            <!-- ÎØ∏ÏÖò Î¶¨Ïä§Ìä∏ -->
                            <div class="krs-mission-list">
                                <!-- ÎØ∏ÏÖò 1: ÏΩîÏñ¥Î∂Å -->
                                <div class="krs-mission-item">
                                    <div class="krs-mission-icon blue">üìò</div>
                                    <div class="krs-mission-info">
                                        <div class="krs-mission-label">[KRS Î©îÏù∏]</div>
                                        <div class="krs-mission-text">ÏΩîÏñ¥Î∂Å ÏùΩÍ∏∞ + ÌôúÎèô</div>
                                    </div>
                                    <div class="krs-mission-xp">
                                        <span class="krs-mission-xp-icon">
                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M9 2L3 9H8L7 14L13 7H8L9 2Z" fill="white" stroke="white" stroke-width="0.5" stroke-linejoin="round"/>
                                            </svg>
                                        </span>
                                        <span class="krs-mission-xp-value">+20Ï†ê</span>
                                    </div>
                                </div>

                                <!-- ÎØ∏ÏÖò 2: ÌÄ¥Ï¶à -->
                                <div class="krs-mission-item">
                                    <div class="krs-mission-icon green">üìù</div>
                                    <div class="krs-mission-info">
                                        <div class="krs-mission-label">[KRS ÌÄ¥Ï¶à]</div>
                                        <div class="krs-mission-text">ÎèÖÏÑú ÌÄ¥Ï¶à ÏôÑÎ£å</div>
                                    </div>
                                    <div class="krs-mission-xp">
                                        <span class="krs-mission-xp-icon">
                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M9 2L3 9H8L7 14L13 7H8L9 2Z" fill="white" stroke="white" stroke-width="0.5" stroke-linejoin="round"/>
                                            </svg>
                                        </span>
                                        <span class="krs-mission-xp-value">+10Ï†ê</span>
                                    </div>
                                </div>

                                <!-- ÎØ∏ÏÖò 3: Í¥ÄÎ¶¨Ïù¥Î∂Å -->
                                <div class="krs-mission-item">
                                    <div class="krs-mission-icon yellow">üìô</div>
                                    <div class="krs-mission-info">
                                        <div class="krs-mission-label">[KRS ÏßùÍøçÏ±Ö]</div>
                                        <div class="krs-mission-text">Í¥ÄÎ¶¨Ïù¥Î∂Å ÏùΩÍ∏∞</div>
                                    </div>
                                    <div class="krs-mission-xp">
                                        <span class="krs-mission-xp-icon">
                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M9 2L3 9H8L7 14L13 7H8L9 2Z" fill="white" stroke="white" stroke-width="0.5" stroke-linejoin="round"/>
                                            </svg>
                                        </span>
                                        <span class="krs-mission-xp-value">+10Ï†ê</span>
                                    </div>
                                </div>

                                <!-- ÎØ∏ÏÖò 4: Î¶¨ÌÖîÎßÅ -->
                                <div class="krs-mission-item">
                                    <div class="krs-mission-icon purple">üé§</div>
                                    <div class="krs-mission-info">
                                        <div class="krs-mission-label">[KRS Î¶¨ÌÖîÎßÅ]</div>
                                        <div class="krs-mission-text">Î¶¨ÌÖîÎßÅ ÌôúÎèô ÏôÑÎ£å</div>
                                    </div>
                                    <div class="krs-mission-xp">
                                        <span class="krs-mission-xp-icon">
                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M9 2L3 9H8L7 14L13 7H8L9 2Z" fill="white" stroke="white" stroke-width="0.5" stroke-linejoin="round"/>
                                            </svg>
                                        </span>
                                        <span class="krs-mission-xp-value">+10Ï†ê</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- A ÏòÅÏó≠: 6Í∞úÏõî Ïû•Í∏∞ Î™©Ìëú (ÌÜ†Ïä§ Ïä§ÌÉÄÏùº) -->
                        <div class="krs-long-term-section" style="margin-top: 32px;">
                            <!-- ÏÑπÏÖò ÌÉÄÏù¥ÌãÄ -->
                            <div class="section-title-bar" style="margin-bottom: 20px;">
                                <div class="section-title-main">
                                    <span class="section-title-icon">üéØ</span>
                                    <span class="section-title-text">ÎÇòÏùò Î†àÎ≤®ÏóÖ Ïó¨Ï†ï</span>
                                </div>
                                <button onclick="openLevelUpInfoModal()" class="levelup-info-btn">
                                    <i class="fa-solid fa-circle-question"></i>
                                    Ïñ¥ÎñªÍ≤å Î†àÎ≤®ÏóÖ Ìï† Ïàò ÏûàÏñ¥Ïöî?
                                </button>
                            </div>

                            <!-- ÌÜ†Ïä§ Ïä§ÌÉÄÏùº Î™©Ìëú Ïπ¥Îìú (Ïª¥Ìå©Ìä∏) -->
                            <div class="toss-goal-card-compact">
                                <!-- Î©îÏù∏ Ï†ïÎ≥¥ ÏòÅÏó≠ -->
                                <div class="compact-main">
                                    <!-- ÏôºÏ™Ω: ÏãúÏûë Î©îÎã¨ -->
                                    <div class="compact-badge">üö©</div>

                                    <!-- Ï§ëÏïô: ÏßÑÌñâ Ï†ïÎ≥¥ -->
                                    <div class="compact-info">
                                        <div class="compact-title">K2-2 ÏäπÍ∏â ÎèÑÏ†Ñ!</div>
                                        <div class="compact-level">Lv. K2-1 ‚Üí K2-2</div>

                                        <!-- 24Ï£ºÏ∞® ÏßÑÌñâ Ïπ∏ -->
                                        <div class="week-progress-container">
                                            <div class="week-progress-grid">
                                                <!-- ÏôÑÎ£åÎêú Ï£ºÏ∞® (10Ï£º) -->
                                                <div class="week-box completed"></div>
                                                <div class="week-box completed"></div>
                                                <div class="week-box completed"></div>
                                                <div class="week-box completed"></div>
                                                <div class="week-box completed"></div>
                                                <div class="week-box completed"></div>
                                                <div class="week-box completed"></div>
                                                <div class="week-box completed"></div>
                                                <div class="week-box completed"></div>
                                                <div class="week-box completed"></div>
                                                <!-- Ï§ëÍ∞Ñ Îπà Ïπ∏ (2Ï£º) - Î≥¥ÏôÑ ÌïÑÏöî -->
                                                <div class="week-box empty missing">
                                                    <div class="week-tooltip">Î≥¥ÏôÑ ÌïÑÏöî</div>
                                                </div>
                                                <div class="week-box empty missing">
                                                    <div class="week-tooltip">Î≥¥ÏôÑ ÌïÑÏöî</div>
                                                </div>
                                                <!-- Îã§Ïãú ÏôÑÎ£åÎêú Ï£ºÏ∞® (5Ï£º) -->
                                                <div class="week-box completed"></div>
                                                <div class="week-box completed"></div>
                                                <div class="week-box completed"></div>
                                                <div class="week-box completed"></div>
                                                <div class="week-box completed"></div>
                                                <!-- ÎØ∏ÏôÑÎ£å Ï£ºÏ∞® (7Ï£º) -->
                                                <div class="week-box empty"></div>
                                                <div class="week-box empty"></div>
                                                <div class="week-box empty"></div>
                                                <div class="week-box empty"></div>
                                                <div class="week-box empty"></div>
                                                <div class="week-box empty"></div>
                                                <div class="week-box empty"></div>
                                            </div>
                                            <div class="week-progress-info">
                                                <span class="weeks-completed">15Ï£º ÏôÑÎ£å</span>
                                                <span class="weeks-remaining">9Ï£º ÎÇ®Ïùå</span>
                                            </div>
                                        </div>

                                        <div class="compact-xp">
                                            <span class="xp-current">420</span> / <span class="xp-total">600Ï†ê</span>
                                            <span class="xp-percent">(70%)</span>
                                        </div>
                                    </div>

                                    <!-- Ïö∞Ï∏°: Î≥¥ÏÉÅ Î©îÎã¨ -->
                                    <div class="compact-reward-badge">
                                        <div class="reward-badge-icon">ü•â</div>
                                        <div class="reward-badge-label">Î™©Ìëú Î≥¥ÏÉÅ</div>
                                    </div>
                                </div>

                                <!-- Î≥¥ÏôÑ ÌïÑÏöî ÏòÅÏó≠ -->
                                <div class="compact-missing-section">
                                    <div class="missing-header">
                                        <span class="missing-icon">üî•</span>
                                        <span class="missing-title">Î≥¥ÏôÑ ÌïÑÏöî</span>
                                    </div>
                                    <div class="missing-list">
                                        <div class="missing-item">
                                            <span class="missing-week">[11Ï£ºÏ∞®]</span>
                                            <span class="missing-text">ÎèÖÏÑú ÌÄ¥Ï¶à Ï†ïÎãµÎ•†Ïù¥ <span class="highlight-emphasis">10%</span>ÏòàÏöî Îã§Ïãú ÌíÄÏñ¥ÏÑú ÏäπÍ∏â Ï†êÏàòÎ•º Ïò¨Î†§Î¥êÏöî</span>
                                        </div>
                                        <div class="missing-item">
                                            <span class="missing-week">[12Ï£ºÏ∞®]</span>
                                            <span class="missing-text">AI Ïñ¥Ìúò ÌöçÎìùÏù¥ <span class="highlight-emphasis">Ï°∞Í∏à Î∂ÄÏ°±</span>ÌñàÏñ¥Ïöî! Îã§Ïãú ÌíÄÏñ¥ÏÑú Ïñ¥ÌúòÎ•º Îçî ÏàòÏßëÌï¥Î¥êÏöî</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- KRS Î°úÎìúÎßµ -->
                                <div class="krs-roadmap" data-current-score="420" data-next-milestone="600">
                                    <!-- ÌòÑÏû¨ ÏúÑÏπò Î∞∞ÏßÄ (ÎèôÏ†Å ÏúÑÏπò) -->
                                    <div class="roadmap-current-badge" style="left: 17.5%;">ÎÇ¥ ÏúÑÏπò: 420</div>

                                    <div class="roadmap-step active">
                                        <div class="roadmap-icon-wrapper">
                                            <div class="roadmap-icon">üö©</div>
                                        </div>
                                        <div class="roadmap-info">
                                            <div class="roadmap-score">0Ï†ê</div>
                                            <div class="roadmap-label">ÏãúÏûë</div>
                                        </div>
                                    </div>
                                    <div class="roadmap-line-container">
                                        <div class="roadmap-line-bg"></div>
                                        <div class="roadmap-line-progress" style="width: 70%;"></div>
                                    </div>
                                    <div class="roadmap-step">
                                        <div class="roadmap-icon-wrapper">
                                            <div class="roadmap-icon">ü•â</div>
                                        </div>
                                        <div class="roadmap-info">
                                            <div class="roadmap-score">600Ï†ê</div>
                                            <div class="roadmap-label">Î∏åÎ°†Ï¶à</div>
                                            <div class="roadmap-badge">K2-2 Îã¨ÏÑ±</div>
                                        </div>
                                    </div>
                                    <div class="roadmap-line-container">
                                        <div class="roadmap-line-bg"></div>
                                    </div>
                                    <div class="roadmap-step inactive">
                                        <div class="roadmap-icon-wrapper">
                                            <div class="roadmap-icon">ü•à</div>
                                        </div>
                                        <div class="roadmap-info">
                                            <div class="roadmap-score">700Ï†ê</div>
                                            <div class="roadmap-label">Ïã§Î≤Ñ</div>
                                        </div>
                                    </div>
                                    <div class="roadmap-line-container">
                                        <div class="roadmap-line-bg"></div>
                                    </div>
                                    <div class="roadmap-step inactive">
                                        <div class="roadmap-icon-wrapper">
                                            <div class="roadmap-icon">üèÜ</div>
                                        </div>
                                        <div class="roadmap-info">
                                            <div class="roadmap-score">800Ï†ê</div>
                                            <div class="roadmap-label">Í≥®Îìú</div>
                                        </div>
                                    </div>
                                    <div class="roadmap-line-container">
                                        <div class="roadmap-line-bg"></div>
                                    </div>
                                    <div class="roadmap-step inactive">
                                        <div class="roadmap-icon-wrapper">
                                            <div class="roadmap-icon">üíé</div>
                                        </div>
                                        <div class="roadmap-info">
                                            <div class="roadmap-score">900Ï†ê+</div>
                                            <div class="roadmap-label">Îã§Ïù¥ÏïÑ</div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>

                        <!-- ÎÇòÎèÑ ÌïúÎßàÎîî (Ïò§ÎäòÏùò ÎèÑÏ†ÑÏóê Î∞∞Ïπò) -->
                        <div class="tc-comment-section" style="margin-top: 24px;">
                            <div class="tc-comment-header">
                                <h3 class="tc-comment-title">üí¨ ÎÇòÎèÑ ÌïúÎßàÎîî üí¨</h3>
                                <button class="tc-write-btn" onclick="openCommentModal()">‚úèÔ∏è ÏûëÏÑ±</button>
                            </div>
                            <div class="tc-marquee-wrap">
                                <div class="tc-marquee-track" id="comment-track">
                                    <!-- ÏÑ∏Ìä∏ 1 -->
                                    <div class="tc-comment-card tc-float-1">
                                        <p class="tc-comment-name">ÏΩîÎî©ÎßàÏä§ÌÑ∞</p>
                                        <p class="tc-comment-info">3ÌïôÎÖÑ ¬∑ (ÏÑúÏö∏)ÏÑúÏö∏Ï¥àÎì±ÌïôÍµê</p>
                                        <p class="tc-comment-text">"Ïö∞Î¶¨ ÌåÄ ÌôîÏù¥ÌåÖ!"</p>
                                        <span class="tc-comment-team" style="background:#FF6B6B;">üåü ÍøàÎÇòÎ¨¥ÌÉêÌóòÎåÄ</span>
                                    </div>
                                    <div class="tc-comment-card tc-float-2">
                                        <p class="tc-comment-name">ÏòÅÏñ¥Ï≤úÏû¨</p>
                                        <p class="tc-comment-info">6ÌïôÎÖÑ ¬∑ (ÏÑúÏö∏)ÌïúÍ∞ïÏ¥àÎì±ÌïôÍµê</p>
                                        <p class="tc-comment-text">"Î™®Îëê ÌûòÎÇ¥ÏÑ∏Ïöî!"</p>
                                        <span class="tc-comment-team" style="background:#845EF7;">‚ú® Î≥ÑÎπõÏ†ïÏõê</span>
                                    </div>
                                    <div class="tc-comment-card tc-float-3">
                                        <p class="tc-comment-name">Í≥ºÌïôÏôï</p>
                                        <p class="tc-comment-info">5ÌïôÎÖÑ ¬∑ (Ïù∏Ï≤ú)ÎØ∏ÎûòÏ¥àÎì±ÌïôÍµê</p>
                                        <p class="tc-comment-text">"ÌååÏù¥ÌåÖ!"</p>
                                        <span class="tc-comment-team" style="background:#20C997;">üöÄ Ïö©Í∞êÌïúÌÉêÌóòÍ∞Ä</span>
                                    </div>
                                    <div class="tc-comment-card tc-float-1">
                                        <p class="tc-comment-name">ÏàòÌïôÎßàÎ≤ïÏÇ¨</p>
                                        <p class="tc-comment-info">6ÌïôÎÖÑ ¬∑ (Î∂ÄÏÇ∞)Ìë∏Î•∏Ï¥àÎì±ÌïôÍµê</p>
                                        <p class="tc-comment-text">"Ìï®Íªò Ìï¥Ïöî!"</p>
                                        <span class="tc-comment-team" style="background:#51CF66;">üçÄ ÌñâÏö¥ÏùòÏà≤</span>
                                    </div>
                                    <div class="tc-comment-card tc-float-2">
                                        <p class="tc-comment-name">ÎèÖÏÑúÏôï</p>
                                        <p class="tc-comment-info">5ÌïôÎÖÑ ¬∑ (ÎåÄÏ†Ñ)ÌñáÏÇ¥Ï¥àÎì±ÌïôÍµê</p>
                                        <p class="tc-comment-text">"Ïö∞Î¶¨ Î™®Îëê ÏµúÍ≥†!"</p>
                                        <span class="tc-comment-team" style="background:#FCC419;">üí° Ïä§ÎßàÌä∏ÌÉêÌóòÎã®</span>
                                    </div>
                                    <div class="tc-comment-card tc-float-3">
                                        <p class="tc-comment-name">Í∑∏Î¶ºÏöîÏ†ï</p>
                                        <p class="tc-comment-info">4ÌïôÎÖÑ ¬∑ (Í≤ΩÍ∏∞)Î≥ÑÎπõÏ¥àÎì±ÌïôÍµê</p>
                                        <p class="tc-comment-text">"Ïò§ÎäòÎèÑ Ïó¥Ïã¨Ìûà!"</p>
                                        <span class="tc-comment-team" style="background:#FF922B;">üé® Ï∞ΩÏûëÍ≥µÎ∞©</span>
                                    </div>
                                    <!-- ÏÑ∏Ìä∏ 2 (Î¨¥ÌïúÎ£®ÌîÑÏö© Î≥µÏ†ú) -->
                                    <div class="tc-comment-card tc-float-1">
                                        <p class="tc-comment-name">ÏΩîÎî©ÎßàÏä§ÌÑ∞</p>
                                        <p class="tc-comment-info">3ÌïôÎÖÑ ¬∑ (ÏÑúÏö∏)ÏÑúÏö∏Ï¥àÎì±ÌïôÍµê</p>
                                        <p class="tc-comment-text">"Ïö∞Î¶¨ ÌåÄ ÌôîÏù¥ÌåÖ!"</p>
                                        <span class="tc-comment-team" style="background:#FF6B6B;">üåü ÍøàÎÇòÎ¨¥ÌÉêÌóòÎåÄ</span>
                                    </div>
                                    <div class="tc-comment-card tc-float-2">
                                        <p class="tc-comment-name">ÏòÅÏñ¥Ï≤úÏû¨</p>
                                        <p class="tc-comment-info">6ÌïôÎÖÑ ¬∑ (ÏÑúÏö∏)ÌïúÍ∞ïÏ¥àÎì±ÌïôÍµê</p>
                                        <p class="tc-comment-text">"Î™®Îëê ÌûòÎÇ¥ÏÑ∏Ïöî!"</p>
                                        <span class="tc-comment-team" style="background:#845EF7;">‚ú® Î≥ÑÎπõÏ†ïÏõê</span>
                                    </div>
                                    <div class="tc-comment-card tc-float-3">
                                        <p class="tc-comment-name">Í≥ºÌïôÏôï</p>
                                        <p class="tc-comment-info">5ÌïôÎÖÑ ¬∑ (Ïù∏Ï≤ú)ÎØ∏ÎûòÏ¥àÎì±ÌïôÍµê</p>
                                        <p class="tc-comment-text">"ÌååÏù¥ÌåÖ!"</p>
                                        <span class="tc-comment-team" style="background:#20C997;">üöÄ Ïö©Í∞êÌïúÌÉêÌóòÍ∞Ä</span>
                                    </div>
                                    <div class="tc-comment-card tc-float-1">
                                        <p class="tc-comment-name">ÏàòÌïôÎßàÎ≤ïÏÇ¨</p>
                                        <p class="tc-comment-info">6ÌïôÎÖÑ ¬∑ (Î∂ÄÏÇ∞)Ìë∏Î•∏Ï¥àÎì±ÌïôÍµê</p>
                                        <p class="tc-comment-text">"Ìï®Íªò Ìï¥Ïöî!"</p>
                                        <span class="tc-comment-team" style="background:#51CF66;">üçÄ ÌñâÏö¥ÏùòÏà≤</span>
                                    </div>
                                    <div class="tc-comment-card tc-float-2">
                                        <p class="tc-comment-name">ÎèÖÏÑúÏôï</p>
                                        <p class="tc-comment-info">5ÌïôÎÖÑ ¬∑ (ÎåÄÏ†Ñ)ÌñáÏÇ¥Ï¥àÎì±ÌïôÍµê</p>
                                        <p class="tc-comment-text">"Ïö∞Î¶¨ Î™®Îëê ÏµúÍ≥†!"</p>
                                        <span class="tc-comment-team" style="background:#FCC419;">üí° Ïä§ÎßàÌä∏ÌÉêÌóòÎã®</span>
                                    </div>
                                    <div class="tc-comment-card tc-float-3">
                                        <p class="tc-comment-name">Í∑∏Î¶ºÏöîÏ†ï</p>
                                        <p class="tc-comment-info">4ÌïôÎÖÑ ¬∑ (Í≤ΩÍ∏∞)Î≥ÑÎπõÏ¥àÎì±ÌïôÍµê</p>
                                        <p class="tc-comment-text">"Ïò§ÎäòÎèÑ Ïó¥Ïã¨Ìûà!"</p>
                                        <span class="tc-comment-team" style="background:#FF922B;">üé® Ï∞ΩÏûëÍ≥µÎ∞©</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ÌåÄ ÎèÑÏ†Ñ -->
                <div id="ctab-team" class="challenge-content hidden">
                    <!-- ÌåÄ ÎØ∏ÏÖò & Ïö∞Î¶¨ÌåÄ -->
                    <div class="tc-group">
                        <!-- ÏôºÏ™Ω: ÌåÄ ÎØ∏ÏÖò -->
                        <div class="tc-mission-card">
                            <span class="tc-mission-badge">‚ú® Ïù¥Î≤à Ï£º ÌåÄ ÎØ∏ÏÖò</span>
                            <div class="tc-mission-icon">üë•</div>
                            <h3 class="tc-mission-title">Ï±Ö 10Í∂å ÏùΩÍ∏∞</h3>
                            <div class="tc-mission-reward">‚≠ê Î≥Ñ 2Í∞ú + 100Ï†ê</div>
                            <!-- Îã§Ïùå Ï£º ÎØ∏ÏÖò ÎØ∏Î¶¨Î≥¥Í∏∞ -->
                            <div class="tc-next-preview" id="next-mission-preview">
                                <p class="tc-next-preview-label">üìÖ Îã§Ïùå Ï£º ÎØ∏ÏÖò</p>
                                <div class="tc-next-preview-empty" id="next-mission-empty">
                                    üëá ÎØ∏ÏÖòÏùÑ Í≥®ÎùºÏ£ºÏÑ∏Ïöî!
                                </div>
                                <div class="tc-next-preview-content" id="next-mission-content" style="display:none;">
                                    <span id="next-mission-icon"></span>
                                    <span id="next-mission-title"></span>
                                </div>
                            </div>
                        </div>

                        <!-- Ïò§Î•∏Ï™Ω: Ïö∞Î¶¨ÌåÄ -->
                        <div class="tc-team-right">
                            <div class="tc-team-header">
                                <h3 class="tc-team-header-title">Ïù¥Î≤à Ï£º Ïö∞Î¶¨ÌåÄ : <strong>ÏßÄÏãùÏùòÏà≤</strong></h3>
                                <span class="tc-team-dday">‚è± D-3</span>
                            </div>

                            <!-- ÎåÄÌëú ÌåÄÏõê Ïπ¥Îìú -->
                            <div class="tc-featured-card">
                                <span class="tc-rank-badge">üèÖ Ïò¨Îû≠ 1Îì±Í∏â</span>
                                <div class="tc-featured-avatar">üê±</div>
                                <p class="tc-featured-name">Îã¨ÏΩ§ÌïúÎî∏Í∏∞ üçì</p>
                                <p class="tc-featured-info">5ÌïôÎÖÑ ¬∑ ÏÑúÏö∏Ï¥àÎì±ÌïôÍµê</p>
                                <p class="tc-featured-quote">"Î≠ò Ìï¥ÎèÑ ÎØøÏùåÎßåÌïú ÏπúÍµ¨ÏòàÏöî. Í∞ôÏùÄ ÌåÄÏù¥ ÎêúÍ±¥ ÌñâÏö¥ÏûÖÎãàÎã§."</p>
                                <div class="tc-featured-result">
                                    <span class="tc-result-success">ÎØ∏ÏÖò ÏÑ±Í≥µ</span>
                                </div>
                                <p class="tc-featured-reward">‚≠ê Î≥Ñ 2Í∞ú + 10Ï†ê</p>
                            </div>

                            <!-- ÌåÄÏõê Í∑∏Î¶¨Îìú -->
                            <div class="tc-members-grid">
                                <div class="tc-member-card">
                                    <div class="tc-member-top">
                                        <div class="tc-member-avatar">üê∞</div>
                                        <div>
                                            <p class="tc-member-name">Î≥ÑÎπõÌÉêÌóòÍ∞Ä</p>
                                            <p class="tc-member-info">5ÌïôÎÖÑ ¬∑ (ÏÑúÏö∏)Í∞ïÏ¥àÎì±ÌïôÍµê</p>
                                        </div>
                                    </div>
                                    <div class="tc-member-status">
                                        <span class="tc-status-progress">üîÑ ÏßÑÌñâÏ§ë</span>
                                        <div class="tc-progress-bar"><div class="tc-progress-fill" style="width:65%"></div></div>
                                        <span class="tc-progress-text">65%</span>
                                    </div>
                                </div>
                                <div class="tc-member-card" id="science-doctor-card">
                                    <div class="tc-member-top">
                                        <div class="tc-member-avatar">üêª</div>
                                        <div>
                                            <p class="tc-member-name">Í≥ºÌïôÎ∞ïÏÇ¨</p>
                                            <p class="tc-member-info">5ÌïôÎÖÑ ¬∑ (Ïù∏Ï≤ú)ÎØ∏ÎûòÏ¥àÎì±ÌïôÍµê</p>
                                        </div>
                                    </div>
                                    <div class="tc-member-status">
                                        <span class="tc-status-fail">‚ùå ÎØ∏ÏÖò Ïã§Ìå®</span>
                                        <span class="tc-status-helped">‚úÖ ÎèÑÏõÄ Î∞õÏïÑ ÏÑ±Í≥µ!</span>
                                        <button class="tc-help-btn" onclick="openHelpModal()">ÏπúÍµ¨ ÎèÑÏôÄÏ£ºÍ∏∞ üéüÔ∏è1</button>
                                    </div>
                                </div>
                                <div class="tc-member-card">
                                    <div class="tc-member-top">
                                        <div class="tc-member-avatar">üêª</div>
                                        <div>
                                            <p class="tc-member-name">Ï±ÖÏùΩÎäîÍ≥∞</p>
                                            <p class="tc-member-info">5ÌïôÎÖÑ ¬∑ (ÏÑúÏö∏)Ìë∏Î•∏Ï¥àÎì±ÌïôÍµê</p>
                                        </div>
                                    </div>
                                    <div class="tc-member-status">
                                        <span class="tc-status-ready">‚è≥ Ï§ÄÎπÑÏ§ë</span>
                                    </div>
                                </div>
                                <div class="tc-member-card">
                                    <div class="tc-member-top">
                                        <div class="tc-member-avatar">ü¶ä</div>
                                        <div>
                                            <p class="tc-member-name">ÎÇòÎäîÏö∞Ìù¨</p>
                                            <p class="tc-member-info">5ÌïôÎÖÑ ¬∑ (ÏÑúÏö∏)Ìï¥ÎßëÏùÄÏ¥àÎì±ÌïôÍµê</p>
                                        </div>
                                    </div>
                                    <div class="tc-member-status">
                                        <span class="tc-status-progress">üîÑ ÏßÑÌñâÏ§ë</span>
                                        <div class="tc-progress-bar"><div class="tc-progress-fill" style="width:40%"></div></div>
                                        <span class="tc-progress-text">40%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 4. Îã§Ïùå Ï£º ÎØ∏ÏÖò Í≥†Î•¥Í∏∞ -->
                    <div class="tc-next-section">
                        <div class="tc-next-header">
                            <div class="tc-next-header-left">
                                <h3 class="tc-next-title">‚ö° Îã§Ïùå Ï£º ÎØ∏ÏÖò Í≥†Î•¥Í∏∞</h3>
                                <p class="tc-next-notice">ÏùºÏöîÏùº Î∞§ 11ÏãúÍπåÏßÄÎßå Î≥ÄÍ≤ΩÌï† Ïàò ÏûàÍ≥†, Ïã†Ï≤≠ÌïòÏßÄ ÏïäÏúºÎ©¥ ÎûúÎç§ ÎØ∏ÏÖòÏù¥ Ï†úÍ≥µÎèºÏöî.</p>
                            </div>
                            <button class="tc-refresh-btn" onclick="refreshMissions()">
                                <i class="fa-solid fa-rotate"></i>
                                <span>ÏÉàÎ°ú Î∂àÎü¨Ïò§Í∏∞</span>
                                <span style="color:#92400E;">50Ï†ê</span>
                            </button>
                        </div>
                        <div class="tc-next-grid" id="mission-grid">
                            <!-- ÎØ∏ÏÖò 1 -->
                            <div class="tc-next-card" data-mission="mission1" data-icon="üìñ" data-title="Ï¥àÎì± ÌïÑÎèÖÏÑú 3Í∂å ÏùΩÍ≥† ÎèÖÌõÑÍ∞ê Ïì∞Í∏∞">
                                <div class="tc-next-icon" style="color:#7C3AED;">üìñ</div>
                                <p class="tc-next-card-title">Ï¥àÎì± ÌïÑÎèÖÏÑú 3Í∂å ÏùΩÍ≥† ÎèÖÌõÑÍ∞ê Ïì∞Í∏∞</p>
                                <span class="tc-next-ai">ü§ñ AI ÏòàÏÉÅ ÏÑ±Í≥µÎ•† 100%</span>
                                <div class="tc-next-meta">
                                    <span>‚≠ê Î≥Ñ 1Í∞ú</span>
                                    <span>üë• 2,897ÌåÄ</span>
                                </div>
                                <button class="tc-next-btn" onclick="selectTeamMission(this)">ÎèÑÏ†Ñ ÏòàÏïΩÌïòÍ∏∞</button>
                            </div>
                            <!-- ÎØ∏ÏÖò 2 -->
                            <div class="tc-next-card" data-mission="mission2" data-icon="üõí" data-title="Ïä§ÌÉÄÏÉµÏóêÏÑú 1000Ïõê Ïù¥ÏÉÅ ÏÇ¨Ïö©Ìï¥Î≥¥Í∏∞">
                                <div class="tc-next-icon" style="color:#059669;">üõí</div>
                                <p class="tc-next-card-title">Ïä§ÌÉÄÏÉµÏóêÏÑú 1000Ïõê Ïù¥ÏÉÅ ÏÇ¨Ïö©Ìï¥Î≥¥Í∏∞</p>
                                <span class="tc-next-ai">ü§ñ AI ÏòàÏÉÅ ÏÑ±Í≥µÎ•† 70%</span>
                                <div class="tc-next-meta">
                                    <span>‚≠ê Î≥Ñ 5Í∞ú</span>
                                    <span>üë• 1,842ÌåÄ</span>
                                </div>
                                <button class="tc-next-btn" onclick="selectTeamMission(this)">ÎèÑÏ†Ñ ÏòàÏïΩÌïòÍ∏∞</button>
                            </div>
                            <!-- ÎØ∏ÏÖò 3 -->
                            <div class="tc-next-card" data-mission="mission3" data-icon="ü§ñ" data-title="AIÏ±óÎ¥áÍ≥º Íµ¨Íµ¨Îã® Í≤åÏûÑ Ìï¥Î≥¥Í∏∞">
                                <div class="tc-next-icon" style="color:#DC2626;">ü§ñ</div>
                                <p class="tc-next-card-title">AIÏ±óÎ¥áÍ≥º Íµ¨Íµ¨Îã® Í≤åÏûÑ Ìï¥Î≥¥Í∏∞</p>
                                <span class="tc-next-ai">ü§ñ AI ÏòàÏÉÅ ÏÑ±Í≥µÎ•† 50%</span>
                                <div class="tc-next-meta">
                                    <span>‚≠ê Î≥Ñ 3Í∞ú</span>
                                    <span>üë• 3,521ÌåÄ</span>
                                </div>
                                <button class="tc-next-btn" onclick="selectTeamMission(this)">ÎèÑÏ†Ñ ÏòàÏïΩÌïòÍ∏∞</button>
                            </div>
                            <!-- ÎûúÎç§ ÎØ∏ÏÖò (Ïª¨Îü¨ ÌÜµÏùº) -->
                            <div class="tc-next-card" data-mission="random" data-icon="‚ùì" data-title="ÎûúÎç§ÎØ∏ÏÖò">
                                <div class="tc-next-icon" style="color:#7C3AED;">‚ùì</div>
                                <p class="tc-next-card-title">ÎûúÎç§ÎØ∏ÏÖò</p>
                                <span class="tc-next-ai">üé≤ Ïã†ÎπÑÎ°úÏö¥ ÎØ∏ÏÖò!</span>
                                <div class="tc-next-meta">
                                    <span>‚≠ê ???</span>
                                    <span>üë• 892ÌåÄ</span>
                                </div>
                                <button class="tc-next-btn" onclick="selectTeamMission(this)">ÎèÑÏ†Ñ ÏòàÏïΩÌïòÍ∏∞</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Î°úÍ∑∏ÏïÑÏõÉ Î™®Îã¨ Ïª®ÌÖåÏù¥ÎÑà -->
    <div id="logout-modal-container"></div>

    <!-- ÌïúÎßàÎîî ÏûëÏÑ± ÌåùÏóÖ -->
    <div class="comment-modal-overlay" id="comment-modal-overlay" onclick="closeCommentModal(event)">
        <div class="comment-modal" onclick="event.stopPropagation()">
            <div class="comment-modal-header">
                <h3 class="comment-modal-title">‚úèÔ∏è ÎÇòÎèÑ ÌïúÎßàÎîî</h3>
                <button class="comment-modal-close" onclick="closeCommentModal()">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>
            <textarea class="comment-textarea" id="comment-textarea" placeholder="ÏπúÍµ¨Îì§ÏóêÍ≤å ÏùëÏõêÏùò ÌïúÎßàÎîîÎ•º ÎÇ®Í≤®Î≥¥ÏÑ∏Ïöî!" maxlength="30" oninput="updateCharCount()"></textarea>
            <div class="comment-char-count"><span id="char-count">0</span>/30</div>
            <button class="comment-submit-btn" id="comment-submit-btn" onclick="submitComment()" disabled>ÌïúÎßàÎîî Îì±Î°ùÌïòÍ∏∞</button>
        </div>
    </div>

    <!-- ÏπúÍµ¨ ÎèÑÏôÄÏ£ºÍ∏∞ ÌåùÏóÖ -->
    <div class="help-modal-overlay" id="help-modal-overlay" onclick="closeHelpModal(event)">
        <div class="help-modal" onclick="event.stopPropagation()">
            <div class="help-modal-icon">ü§ù</div>
            <h3 class="help-modal-title">ÏπúÍµ¨ ÎèÑÏôÄÏ£ºÍ∏∞</h3>
            <p class="help-modal-desc">Ìã∞ÏºìÏùÑ ÏÇ¨Ïö©ÌïòÏó¨ ÏπúÍµ¨Ïùò ÎØ∏ÏÖòÏùÑ<br>ÏÑ±Í≥µÏúºÎ°ú Î∞îÍøîÏ§Ñ Ïàò ÏûàÏñ¥Ïöî!</p>
            <div class="help-modal-friend">
                <div class="help-modal-avatar">üêª</div>
                <div class="help-modal-friend-info">
                    <p class="help-modal-friend-name">Í≥ºÌïôÎ∞ïÏÇ¨</p>
                    <p class="help-modal-friend-status">‚ùå ÎØ∏ÏÖò Ïã§Ìå®</p>
                </div>
            </div>
            <div class="help-modal-cost">
                <p class="help-modal-cost-label">ÏÇ¨Ïö© Ìã∞Ïºì</p>
                <p class="help-modal-cost-value">üéüÔ∏è 1Ïû•</p>
            </div>
            <div class="help-modal-btns">
                <button class="help-modal-cancel" onclick="closeHelpModal()">Ï∑®ÏÜå</button>
                <button class="help-modal-confirm" onclick="confirmHelp()">ÎèÑÏôÄÏ£ºÍ∏∞</button>
            </div>
        </div>
    </div>

    <!-- JS -->
    <script src="../js/common.js"></script>
    <script src="../js/sidebar.js"></script>
    <script>
    // === ÎèÑÏ†Ñ ÌÉ≠ Ï†ÑÌôò ===
    function switchChallengeTab(tab) {
        // ÌÉ≠ Î≤ÑÌäº ÏÉÅÌÉú Î≥ÄÍ≤Ω
        document.querySelectorAll('.challenge-tab').forEach(t => {
            t.classList.toggle('active', t.dataset.ctab === tab);
        });

        // ÏΩòÌÖêÏ∏† ÌëúÏãú/Ïà®ÍπÄ
        document.querySelectorAll('.challenge-content').forEach(c => {
            c.classList.add('hidden');
        });
        document.getElementById('ctab-' + tab).classList.remove('hidden');
    }

    // === ÌåÄ ÎØ∏ÏÖò ÏÑ†ÌÉù ===
    function selectTeamMission(btn) {
        // Î™®Îì† Î≤ÑÌäº Î∞è Ïπ¥Îìú Ï¥àÍ∏∞Ìôî
        document.querySelectorAll('.tc-next-btn').forEach(b => {
            b.classList.remove('selected');
            b.textContent = 'ÎèÑÏ†Ñ ÏòàÏïΩÌïòÍ∏∞';
        });
        document.querySelectorAll('.tc-next-card').forEach(c => {
            c.classList.remove('selected-card');
        });

        // ÏÑ†ÌÉùÌïú Î≤ÑÌäº ÌôúÏÑ±Ìôî
        btn.classList.add('selected');
        btn.textContent = '‚úì ÏòàÏïΩ ÏôÑÎ£å';

        // Ïπ¥Îìú ÏÑ†ÌÉù ÏÉÅÌÉú
        const card = btn.closest('.tc-next-card');
        card.classList.add('selected-card');

        // Îã§Ïùå Ï£º ÎØ∏ÏÖò ÎØ∏Î¶¨Î≥¥Í∏∞ ÏóÖÎç∞Ïù¥Ìä∏
        const icon = card.dataset.icon;
        const title = card.dataset.title;

        document.getElementById('next-mission-empty').style.display = 'none';
        document.getElementById('next-mission-content').style.display = 'flex';
        document.getElementById('next-mission-icon').textContent = icon;
        document.getElementById('next-mission-title').textContent = title;

        // localStorageÏóê Ï†ÄÏû•
        localStorage.setItem('selectedNextMission', JSON.stringify({ icon, title }));
    }

    // === ÎØ∏ÏÖò ÏÉàÎ°ú Î∂àÎü¨Ïò§Í∏∞ ===
    const missionPool = [
        { icon: 'üìñ', title: 'Ï¥àÎì± ÌïÑÎèÖÏÑú 3Í∂å ÏùΩÍ≥† ÎèÖÌõÑÍ∞ê Ïì∞Í∏∞', color: '#7C3AED', ai: '100%', stars: '1Í∞ú', teams: '2,897' },
        { icon: 'üõí', title: 'Ïä§ÌÉÄÏÉµÏóêÏÑú 1000Ïõê Ïù¥ÏÉÅ ÏÇ¨Ïö©Ìï¥Î≥¥Í∏∞', color: '#059669', ai: '70%', stars: '5Í∞ú', teams: '1,842' },
        { icon: 'ü§ñ', title: 'AIÏ±óÎ¥áÍ≥º Íµ¨Íµ¨Îã® Í≤åÏûÑ Ìï¥Î≥¥Í∏∞', color: '#DC2626', ai: '50%', stars: '3Í∞ú', teams: '3,521' },
        { icon: 'üìö', title: 'ÏùºÏ£ºÏùºÍ∞Ñ Îß§Ïùº Ï±Ö 1Í∂åÏî© ÏùΩÍ∏∞', color: '#2563EB', ai: '85%', stars: '4Í∞ú', teams: '1,523' },
        { icon: '‚úèÔ∏è', title: 'ÎèÖÏÑú ÏùºÍ∏∞ 5Ïùº Ïó∞ÏÜç Ïì∞Í∏∞', color: '#7C3AED', ai: '90%', stars: '2Í∞ú', teams: '2,145' },
        { icon: 'üéØ', title: 'Ïñ¥Ìúò ÌÄ¥Ï¶à ÎßåÏ†ê 3Ìöå Îã¨ÏÑ±ÌïòÍ∏∞', color: '#EA580C', ai: '65%', stars: '3Í∞ú', teams: '1,876' },
        { icon: 'üèÜ', title: 'ÎèÖÏÑúÏôï Îû≠ÌÇπ 50ÏúÑ ÏïàÏóê Îì§Í∏∞', color: '#D97706', ai: '40%', stars: '7Í∞ú', teams: '987' },
        { icon: 'üåü', title: 'ÏπúÍµ¨ 3Î™Ö Ïù¥ÏÉÅ ÎèÖÏÑú ÎèÑÏôÄÏ£ºÍ∏∞', color: '#059669', ai: '80%', stars: '4Í∞ú', teams: '1,654' },
        { icon: 'üìù', title: 'Ï±Ö Ï∂îÏ≤ú Î¶¨Î∑∞ 2Í∞ú ÏûëÏÑ±ÌïòÍ∏∞', color: '#7C3AED', ai: '95%', stars: '2Í∞ú', teams: '3,012' },
        { icon: 'üéÆ', title: 'AI ÎèÖÏÑú Í≤åÏûÑ 5Ìåê ÌÅ¥Î¶¨Ïñ¥ÌïòÍ∏∞', color: '#DC2626', ai: '75%', stars: '3Í∞ú', teams: '2,341' }
    ];

    function refreshMissions() {
        // XP ÌôïÏù∏ Î∞è Ï∞®Í∞ê
        let xp = parseInt(localStorage.getItem('userXP') || '500');
        if (xp < 50) {
            showRefreshToast('Ìè¨Ïù∏Ìä∏Í∞Ä Î∂ÄÏ°±Ìï©ÎãàÎã§!', 'error');
            return;
        }
        xp -= 50;
        localStorage.setItem('userXP', xp);

        // ÎØ∏ÏÖò ÏÑ†ÌÉù Ï¥àÍ∏∞Ìôî
        document.getElementById('next-mission-empty').style.display = 'block';
        document.getElementById('next-mission-content').style.display = 'none';
        localStorage.removeItem('selectedNextMission');

        // ÎûúÎç§ ÎØ∏ÏÖò 3Í∞ú ÏÑ†ÌÉù
        const shuffled = [...missionPool].sort(() => Math.random() - 0.5);
        const selectedMissions = shuffled.slice(0, 3);

        // Í∑∏Î¶¨Îìú Î†åÎçîÎßÅ
        const grid = document.getElementById('mission-grid');
        let html = '';

        selectedMissions.forEach((m, i) => {
            html += `
            <div class="tc-next-card" data-mission="mission${i+1}" data-icon="${m.icon}" data-title="${m.title}">
                <div class="tc-next-icon" style="color:${m.color};">${m.icon}</div>
                <p class="tc-next-card-title">${m.title}</p>
                <span class="tc-next-ai">ü§ñ AI ÏòàÏÉÅ ÏÑ±Í≥µÎ•† ${m.ai}</span>
                <div class="tc-next-meta">
                    <span>‚≠ê Î≥Ñ ${m.stars}</span>
                    <span>üë• ${m.teams}ÌåÄ</span>
                </div>
                <button class="tc-next-btn" onclick="selectTeamMission(this)">ÎèÑÏ†Ñ ÏòàÏïΩÌïòÍ∏∞</button>
            </div>`;
        });

        // ÎûúÎç§ ÎØ∏ÏÖò Ï∂îÍ∞Ä
        html += `
            <div class="tc-next-card" data-mission="random" data-icon="‚ùì" data-title="ÎûúÎç§ÎØ∏ÏÖò">
                <div class="tc-next-icon" style="color:#7C3AED;">‚ùì</div>
                <p class="tc-next-card-title">ÎûúÎç§ÎØ∏ÏÖò</p>
                <span class="tc-next-ai">üé≤ Ïã†ÎπÑÎ°úÏö¥ ÎØ∏ÏÖò!</span>
                <div class="tc-next-meta">
                    <span>‚≠ê ???</span>
                    <span>üë• 892ÌåÄ</span>
                </div>
                <button class="tc-next-btn" onclick="selectTeamMission(this)">ÎèÑÏ†Ñ ÏòàÏïΩÌïòÍ∏∞</button>
            </div>`;

        grid.innerHTML = html;

        showRefreshToast('ÏÉàÎ°úÏö¥ ÎØ∏ÏÖòÏùÑ Î∂àÎü¨ÏôîÏñ¥Ïöî! (-50Ï†ê)', 'success');
    }

    function showRefreshToast(message, type) {
        const toast = document.createElement('div');
        const bgColor = type === 'error'
            ? 'linear-gradient(135deg, #EF4444, #DC2626)'
            : 'linear-gradient(135deg, #F59E0B, #D97706)';
        toast.style.cssText = `
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: ${bgColor};
            color: white;
            padding: 14px 24px;
            border-radius: 30px;
            font-weight: 700;
            font-size: 15px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.3);
            z-index: 2000;
            animation: toastIn 0.3s ease-out;
        `;
        toast.innerHTML = message;
        document.body.appendChild(toast);

        setTimeout(() => {
            toast.style.animation = 'toastOut 0.3s ease-out forwards';
            setTimeout(() => toast.remove(), 300);
        }, 2000);
    }

    // === ÌïúÎßàÎîî ÏûëÏÑ± ÌåùÏóÖ ===
    function openCommentModal() {
        document.getElementById('comment-modal-overlay').classList.add('active');
        document.getElementById('comment-textarea').value = '';
        document.getElementById('char-count').textContent = '0';
        document.getElementById('comment-submit-btn').disabled = true;
    }

    function closeCommentModal(event) {
        if (event && event.target !== event.currentTarget) return;
        document.getElementById('comment-modal-overlay').classList.remove('active');
    }

    function updateCharCount() {
        const textarea = document.getElementById('comment-textarea');
        const count = textarea.value.length;
        document.getElementById('char-count').textContent = count;
        document.getElementById('comment-submit-btn').disabled = count === 0;
    }

    function submitComment() {
        const textarea = document.getElementById('comment-textarea');
        const message = textarea.value.trim();
        if (!message) return;

        // ÎÇ¥ Î©îÏãúÏßÄ Ïπ¥Îìú ÏÉùÏÑ±
        const myCard = document.createElement('div');
        myCard.className = 'tc-comment-card my-message tc-float-1';
        myCard.innerHTML = `
            <p class="tc-comment-name">ÎÇòÎäîÏö∞Ìù¨</p>
            <p class="tc-comment-info">5ÌïôÎÖÑ ¬∑ (ÏÑúÏö∏)Ìï¥ÎßëÏùÄÏ¥àÎì±ÌïôÍµê</p>
            <p class="tc-comment-text">"${message}"</p>
            <span class="tc-comment-team" style="background:#F59E0B;">ü¶ä ÏßÄÏãùÏùòÏà≤</span>
        `;

        // Ìä∏Îûô Îß® ÏïûÏóê Ï∂îÍ∞Ä
        const track = document.getElementById('comment-track');
        track.insertBefore(myCard, track.firstChild);

        // localStorageÏóê Ï†ÄÏû•
        localStorage.setItem('myComment', message);

        // ÌåùÏóÖ Îã´Í∏∞
        closeCommentModal();

        // ÏÑ±Í≥µ ÏïåÎ¶º
        showCommentToast();
    }

    function showCommentToast() {
        const toast = document.createElement('div');
        toast.style.cssText = `
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #10B981, #059669);
            color: white;
            padding: 14px 24px;
            border-radius: 30px;
            font-weight: 700;
            font-size: 15px;
            box-shadow: 0 8px 24px rgba(16,185,129,0.4);
            z-index: 2000;
            animation: toastIn 0.3s ease-out;
        `;
        toast.innerHTML = '‚ú® ÌïúÎßàÎîîÍ∞Ä Îì±Î°ùÎêòÏóàÏñ¥Ïöî!';
        document.body.appendChild(toast);

        setTimeout(() => {
            toast.style.animation = 'toastOut 0.3s ease-out forwards';
            setTimeout(() => toast.remove(), 300);
        }, 2000);
    }

    // === ÏπúÍµ¨ ÎèÑÏôÄÏ£ºÍ∏∞ ÌåùÏóÖ ===
    function openHelpModal() {
        document.getElementById('help-modal-overlay').classList.add('active');
    }

    function closeHelpModal(event) {
        if (event && event.target !== event.currentTarget) return;
        document.getElementById('help-modal-overlay').classList.remove('active');
    }

    function confirmHelp() {
        // Ìã∞Ïºì Ï∞®Í∞ê (localStorage)
        let tickets = parseInt(localStorage.getItem('tickets') || '10');
        if (tickets < 1) {
            alert('Ìã∞ÏºìÏù¥ Î∂ÄÏ°±Ìï©ÎãàÎã§!');
            return;
        }
        tickets -= 1;
        localStorage.setItem('tickets', tickets);

        // Í≥ºÌïôÎ∞ïÏÇ¨ Ïπ¥Îìú ÏÉÅÌÉú Î≥ÄÍ≤Ω
        const card = document.getElementById('science-doctor-card');
        card.classList.add('helped');

        // ÏÉÅÌÉú Ï†ÄÏû•
        localStorage.setItem('scienceDoctorHelped', 'true');

        // ÌåùÏóÖ Îã´Í∏∞
        closeHelpModal();

        // ÏÑ±Í≥µ ÏïåÎ¶º
        showHelpToast();
    }

    function showHelpToast() {
        const toast = document.createElement('div');
        toast.style.cssText = `
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #7C3AED, #8B5CF6);
            color: white;
            padding: 14px 24px;
            border-radius: 30px;
            font-weight: 700;
            font-size: 15px;
            box-shadow: 0 8px 24px rgba(124,58,237,0.4);
            z-index: 2000;
            animation: toastIn 0.3s ease-out;
        `;
        toast.innerHTML = 'üéâ Í≥ºÌïôÎ∞ïÏÇ¨Î•º ÎèÑÏôÄÏ§¨Ïñ¥Ïöî! üéüÔ∏è-1';
        document.body.appendChild(toast);

        setTimeout(() => {
            toast.style.animation = 'toastOut 0.3s ease-out forwards';
            setTimeout(() => toast.remove(), 300);
        }, 2000);
    }

    // === Init ===
    document.addEventListener('DOMContentLoaded', () => {
        loadSidebar('all-challenge');
        loadLogoutModal();

        // Ï†ÄÏû•Îêú ÎÇ¥ Î©îÏãúÏßÄÍ∞Ä ÏûàÏúºÎ©¥ Î≥µÏõê
        const savedComment = localStorage.getItem('myComment');
        if (savedComment) {
            const myCard = document.createElement('div');
            myCard.className = 'tc-comment-card my-message tc-float-1';
            myCard.innerHTML = `
                <p class="tc-comment-name">ÎÇòÎäîÏö∞Ìù¨</p>
                <p class="tc-comment-info">5ÌïôÎÖÑ ¬∑ (ÏÑúÏö∏)Ìï¥ÎßëÏùÄÏ¥àÎì±ÌïôÍµê</p>
                <p class="tc-comment-text">"${savedComment}"</p>
                <span class="tc-comment-team" style="background:#F59E0B;">ü¶ä ÏßÄÏãùÏùòÏà≤</span>
            `;
            const track = document.getElementById('comment-track');
            track.insertBefore(myCard, track.firstChild);
        }

        // ÎèÑÏõÄ ÏÉÅÌÉú Î≥µÏõê
        const helped = localStorage.getItem('scienceDoctorHelped');
        if (helped === 'true') {
            document.getElementById('science-doctor-card').classList.add('helped');
        }

        // Ï†ÄÏû•Îêú Îã§Ïùå Ï£º ÎØ∏ÏÖò ÏÑ†ÌÉù Î≥µÏõê
        const savedMission = localStorage.getItem('selectedNextMission');
        if (savedMission) {
            const { icon, title } = JSON.parse(savedMission);
            document.getElementById('next-mission-empty').style.display = 'none';
            document.getElementById('next-mission-content').style.display = 'flex';
            document.getElementById('next-mission-icon').textContent = icon;
            document.getElementById('next-mission-title').textContent = title;

            // Ìï¥Îãπ Ïπ¥Îìú ÏÑ†ÌÉù ÏÉÅÌÉúÎ°ú ÌëúÏãú
            document.querySelectorAll('.tc-next-card').forEach(card => {
                if (card.dataset.title === title) {
                    card.classList.add('selected-card');
                    const btn = card.querySelector('.tc-next-btn');
                    btn.classList.add('selected');
                    btn.textContent = '‚úì ÏòàÏïΩ ÏôÑÎ£å';
                }
            });
        }
    });
    </script>

<!-- Î†àÎ≤®ÏóÖ Ï†ïÎ≥¥ Î™®Îã¨ (Îã®Í≥ÑÎ≥Ñ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò) -->
<div id="levelup-info-modal" class="levelup-modal" style="display: none;">
    <div class="levelup-modal-overlay" onclick="closeLevelUpInfoModal()"></div>
    <div class="levelup-modal-content">
        <div class="levelup-modal-header">
            <h3>Ïñ¥ÎñªÍ≤å Î†àÎ≤®ÏóÖ Ìï† Ïàò ÏûàÏñ¥Ïöî?</h3>
            <button onclick="closeLevelUpInfoModal()" class="levelup-modal-close">
                <i class="fa-solid fa-xmark"></i>
            </button>
        </div>

        <div class="levelup-modal-body">
            <!-- Ïä§ÌÖù Ïª®ÌÖåÏù¥ÎÑà -->
            <div class="levelup-steps-container">
                <!-- Ïä§ÌÖù 1: Ï†êÏàò ÏñªÎäî Î∞©Î≤ï -->
                <div class="levelup-step active" data-step="1">
                    <h4 class="levelup-section-title">‚ú® Ï†êÏàò ÏñªÎäî Î∞©Î≤ï</h4>
                    <div class="levelup-points-content-compact">
                        <div class="points-grid">
                            <div class="points-column">
                                <div class="points-week-title">1Ï£ºÏ∞® / 3Ï£ºÏ∞®</div>
                                <div class="points-item">
                                    <span class="points-activity">ÏΩîÏñ¥Î∂Å ÏùΩÍ∏∞</span>
                                    <span class="points-value">10Ï†ê</span>
                                </div>
                                <div class="points-item">
                                    <span class="points-activity">ÎèÖÏÑúÌÄ¥Ï¶à</span>
                                    <span class="points-value">10Ï†ê</span>
                                </div>
                                <div class="points-item">
                                    <span class="points-activity">ÎèÖÏÑú ÌôúÎèô</span>
                                    <span class="points-value">10Ï†ê</span>
                                </div>
                            </div>
                            <div class="points-column">
                                <div class="points-week-title">2Ï£ºÏ∞® / 4Ï£ºÏ∞®</div>
                                <div class="points-item">
                                    <span class="points-activity">Í¥ÄÎ¶¨Ïù¥Î∂Å ÏùΩÍ∏∞</span>
                                    <span class="points-value">10Ï†ê</span>
                                </div>
                                <div class="points-item">
                                    <span class="points-activity">ÎèÖÏÑúÌÄ¥Ï¶à</span>
                                    <span class="points-value">10Ï†ê</span>
                                </div>
                                <div class="points-item">
                                    <span class="points-activity">Î¶¨ÌÖîÎßÅ ÌôúÎèô</span>
                                    <span class="points-value">10Ï†ê</span>
                                </div>
                            </div>
                        </div>
                        <div class="points-summary-compact">
                            <div class="summary-row">
                                <i class="fa-solid fa-calendar-check"></i>
                                <span>24Ï£ºÏ∞® ÏôÑÎ£å Ïãú <strong>720Ï†ê</strong></span>
                            </div>
                            <div class="summary-row">
                                <i class="fa-solid fa-trophy"></i>
                                <span>ÏäπÍ∏â Ï°∞Í±¥ <strong>600Ï†ê</strong> (ÌÄ¥Ï¶à 50%)</span>
                            </div>
                        </div>
                        <div class="points-notice-compact">
                            <i class="fa-solid fa-circle-exclamation"></i>
                            <span>Îã®, 600Ï†êÏùÑ Ï±ÑÏõåÎèÑ, ÏΩîÏñ¥Î∂Å/Í¥ÄÎ¶¨Ïù¥Î∂Å ÌïôÏäµ Ï¢ÖÎ£åÍ∞Ä ÎêòÏßÄ ÏïäÏïòÎã§Î©¥ ÏäπÍ∏â Î∂àÍ∞Ä</span>
                        </div>
                    </div>
                </div>

                <!-- Ïä§ÌÖù 2: Ìã∞Ïñ¥Ìëú Í∏∞Ï§Ä -->
                <div class="levelup-step" data-step="2">
                    <h4 class="levelup-section-title">üìä Ìã∞Ïñ¥Ìëú Í∏∞Ï§Ä</h4>
                    <div class="levelup-tier-table">
                        <div class="tier-row">
                            <div class="tier-icon">ü•â</div>
                            <div class="tier-name">Î∏åÎ°†Ï¶à</div>
                            <div class="tier-score">600Ï†ê</div>
                        </div>
                        <div class="tier-row">
                            <div class="tier-icon">ü•à</div>
                            <div class="tier-name">Ïã§Î≤Ñ</div>
                            <div class="tier-score">700Ï†ê</div>
                        </div>
                        <div class="tier-row">
                            <div class="tier-icon">ü•á</div>
                            <div class="tier-name">Í≥®Îìú</div>
                            <div class="tier-score">800Ï†ê</div>
                        </div>
                        <div class="tier-row">
                            <div class="tier-icon">üíé</div>
                            <div class="tier-name">Îã§Ïù¥ÏïÑÎ™¨Îìú</div>
                            <div class="tier-score">900Ï†ê+</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò ÏòÅÏó≠ (Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ + Î≤ÑÌäº) -->
        <div class="levelup-modal-footer">
            <button onclick="prevLevelUpStep()" class="levelup-nav-btn-circle prev-btn" style="opacity: 0.3; pointer-events: none;">
                <i class="fa-solid fa-chevron-left"></i>
            </button>

            <!-- Ïä§ÌÖù Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ -->
            <div class="levelup-step-indicator">
                <div class="step-dot active" data-step="1"></div>
                <div class="step-dot" data-step="2"></div>
            </div>

            <button onclick="nextLevelUpStep()" class="levelup-nav-btn-circle next-btn">
                <i class="fa-solid fa-chevron-right"></i>
            </button>
        </div>
    </div>
</div>

<script>
    let currentLevelUpStep = 1;

    function openLevelUpInfoModal() {
        document.getElementById('levelup-info-modal').style.display = 'flex';
        document.body.style.overflow = 'hidden';
        currentLevelUpStep = 1;
        updateLevelUpStep();
    }

    function closeLevelUpInfoModal() {
        document.getElementById('levelup-info-modal').style.display = 'none';
        document.body.style.overflow = 'auto';
        currentLevelUpStep = 1;
    }

    function nextLevelUpStep() {
        if (currentLevelUpStep < 2) {
            currentLevelUpStep++;
            updateLevelUpStep();
        }
    }

    function prevLevelUpStep() {
        if (currentLevelUpStep > 1) {
            currentLevelUpStep--;
            updateLevelUpStep();
        }
    }

    function updateLevelUpStep() {
        const steps = document.querySelectorAll('.levelup-step');
        const dots = document.querySelectorAll('.step-dot');
        const prevBtn = document.querySelector('.prev-btn');
        const nextBtn = document.querySelector('.next-btn');

        // Î™®Îì† Ïä§ÌÖù ÎπÑÌôúÏÑ±Ìôî
        steps.forEach(step => step.classList.remove('active'));
        dots.forEach(dot => dot.classList.remove('active'));

        // ÌòÑÏû¨ Ïä§ÌÖù ÌôúÏÑ±Ìôî
        const currentStep = document.querySelector(`.levelup-step[data-step="${currentLevelUpStep}"]`);
        const currentDot = document.querySelector(`.step-dot[data-step="${currentLevelUpStep}"]`);
        if (currentStep) currentStep.classList.add('active');
        if (currentDot) currentDot.classList.add('active');

        // Î≤ÑÌäº ÌëúÏãú/Ïà®ÍπÄ
        if (currentLevelUpStep === 1) {
            prevBtn.style.opacity = '0.3';
            prevBtn.style.pointerEvents = 'none';
            nextBtn.style.opacity = '1';
            nextBtn.style.pointerEvents = 'auto';
        } else {
            prevBtn.style.opacity = '1';
            prevBtn.style.pointerEvents = 'auto';
            nextBtn.style.opacity = '0.3';
            nextBtn.style.pointerEvents = 'none';
        }
    }
</script>

<!-- Proto Navigation (Í≥µÌÜµ Dev Tool) -->
<link rel="stylesheet" href="../css/proto-nav.css">
<script src="../js/proto-nav.js"></script>
</body>
</html>
